{"version":3,"sources":["webpack:///./secrets.js","webpack:///./http.js","webpack:///./Model.js","webpack:///./auth.js","webpack:///./components/Hamburger.js","webpack:///./assets/animations.js","webpack:///./utils/index.js","webpack:///./components/Btns.js","webpack:///./components/Header.js","webpack:///./components/Footer.js","webpack:///./components/NavBar.js","webpack:///./components/Menu.js","webpack:///./components/Body.js","webpack:///./components/Layout.js","webpack:///./Groups/Group/component.js","webpack:///./components/Modal.js","webpack:///./Editor/model.js","webpack:///./Editor/component.js","webpack:///./Editor/forms/index.js","webpack:///./Groups/model.js","webpack:///./Groups/component.js","webpack:///./Invites/Invite/component.js","webpack:///./Invites/component.js","webpack:///./Login/model.js","webpack:///./Login/component.js","webpack:///./UnAuthenticated.js","webpack:///./App.js","webpack:///./index.js"],"names":["__webpack_require__","d","__webpack_exports__","API_KEY","APP_ID","baseUrl","m","data_task__WEBPACK_IMPORTED_MODULE_0__","data_task__WEBPACK_IMPORTED_MODULE_0___default","n","_secrets_js__WEBPACK_IMPORTED_MODULE_1__","parseHttpError","rej","Error","response","getUserToken","window","sessionStorage","getItem","http","postQl","model","query","state","isLoading","Task","res","request","method","withCredentials","data","string","JSON","parse","stringify","headers","Authorization","concat","token","cache-control","x-apikey","content-type","then","_ref","errors","Promise","reject","resolve","parseQLResponse","postTask","url","_ref2","dto","user-token","getTask","putTask","_ref3","deleteTask","id","emitter","AsyncEventEmitter","pages","user","objectId","name","profile","tabsShowing","modalShowing","route","group","event","showTabs","showModal","checkAuth","userLogedIn","console","log","Hamburger","attrs","render","dom","xmlns","oncreate","onupdate","view","_ref4","style","fill","onclick","animateSidebarEntrance","opacity","classList","toggle","animateChildrenLimitsEntrance","idx","setTimeout","animate","dir","_ref5","makeRoute","compose","join","split","trim","toLower","Btn","_ref$attrs","action","label","BtnClose","_ref2$attrs","actionsAt","groups","emit","landing","login","register","home","events","set","username","newGroup","newEvent","Actions","Header","Footer","Tab","key","tab","href","link","Sidebar","tabs","map","active","Menu","onbeforeremove","_ref6","remove","add","children","Body","Layout","Group","_ref$attrs$g","g","members","length","fork","warn","onError","onSuccess","Modal","ModalContainer","v","document","createElement","className","body","appendChild","mount","onbeforeupdate","r","addEventListener","onremove","removeChild","toDto","message","error","onSaveGroupSuccess","saveForm","saveGroup","chain","userId","getForm","for","type","value","onchange","e","target","title","description","location","date","format","Editor","oninit","page","form","onsubmit","preventDefault","class","findGroups","encodeURI","toggleModal","Groups","on","onInitError","onInitSuccess","removeListener","rsvps","Invite","invite","email","rsvp","partySize","Invites","invites","validateData","password","loginUser","setItem","App","authenticated","regUser","registerUser","Login","logUserIn","Register","LoginPage","RegisterPage","UnAuthenticated","/login","onmatch","/register","GroupsPage","EventsPage","EditorPage","_ref3$attrs","/:username/groups","/:username/:group/events","args","path","/:username/:group/new-event","/:username/:group/edit/:event","/logout","root","getProfile","w","winW","innerWidth","navigator","serviceWorker","registration","catch","registrationError","checkWidth","lastProfile","redraw","requestAnimationFrame"],"mappings":"yFAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IAAO,IAUMF,EAAU,uCACVC,EAAS,uCAETC,EAAU,gECbvB,SAAAC,GAAA,IAAAC,EAAAP,EAAA,IAAAQ,EAAAR,EAAAS,EAAAF,GAAAG,EAAAV,EAAA,IAUaW,EAAiB,SAACC,GAAD,OAAS,SAACC,GAAD,OAAWD,EAAIC,EAAMC,YAEtDC,EAAe,kBACnBC,OAAOC,eAAeC,QAAQ,cAC1BF,OAAOC,eAAeC,QAAQ,cAC9B,IAyEAC,EAAO,CAAEC,OAvEA,SAACC,GAAD,OAAW,SAACC,GAEzB,OADAD,EAAME,MAAMC,WAAY,EACjB,IAAIC,IAAK,SAACb,EAAKc,GAAN,OACdpB,EACGqB,QAAQ,CACPC,OAAQ,OAERC,iBAAiB,EACjBC,MAtBWC,EAsBKT,EAtBMU,KAAKC,MAAMD,KAAKE,UAAUH,KAuBhDI,QAAS,CACPC,cAAa,UAAAC,OAAYhB,EAAME,MAAMe,OACrCC,gBAAiB,WACjBC,WAAY,wCACZC,eAAgB,sBAGnBC,KA5BiB,SAACrB,GAAD,OAAW,SAAAsB,GAAsB,IAAnBb,EAAmBa,EAAnBb,KAAMc,EAAaD,EAAbC,OAE1C,OADAvB,EAAME,MAAMC,WAAY,EACjBoB,EAASC,QAAQC,OAAOF,GAAUC,QAAQE,QAAQjB,IA0B/CkB,CAAgB3B,IACrBqB,KAAKhB,EAAKf,EAAeC,IA/Bd,IAACmB,MAqFIkB,SAlDN,SAACC,GAAD,OAAS,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,IAAH,OACxB,IAAI3B,IAAK,SAACb,EAAKc,GAAN,OACPpB,EACGqB,QAAQ,CACPC,OAAQ,OACRsB,IAAG,GAAAb,OAAKhC,IAAL,KAAAgC,OAAgBjC,IAAhB,KAAAiC,OAA0BlC,IAA1B,KAAAkC,OAAqCa,GACxCpB,KAAMsB,EACNjB,QAAS,CAAEkB,aAActC,KACzBc,iBAAiB,IAElBa,KAAKhB,EAAKf,EAAeC,QAwCC0C,QAxBjB,SAACJ,GAAD,OACd,IAAIzB,IAAK,SAACb,EAAKc,GAAN,OACPpB,EACGqB,QAAQ,CACPC,OAAQ,MACRsB,IAAG,GAAAb,OAAKhC,IAAL,KAAAgC,OAAgBjC,IAAhB,KAAAiC,OAA0BlC,IAA1B,KAAAkC,OAAqCa,GACxCf,QAAS,CAAEkB,aAActC,KACzBc,iBAAiB,IAElBa,KAAKhB,EAAKf,EAAeC,OAeU2C,QArC1B,SAACL,GAAD,OAAS,SAAAM,GAAA,IAAGJ,EAAHI,EAAGJ,IAAH,OACvB,IAAI3B,IAAK,SAACb,EAAKc,GAAN,OACPpB,EACGqB,QAAQ,CACPC,OAAQ,MACRsB,IAAG,GAAAb,OAAKhC,IAAL,KAAAgC,OAAgBjC,IAAhB,KAAAiC,OAA0BlC,IAA1B,KAAAkC,OAAqCa,GACxCpB,KAAMsB,EACNjB,QAAS,CAAEkB,aAActC,KACzBc,iBAAiB,IAElBa,KAAKhB,EAAKf,EAAeC,QA2BmB6C,WAZhC,SAACP,GAAD,OAAS,SAACQ,GAAD,OAC1B,IAAIjC,IAAK,SAACb,EAAKc,GAAN,OACPpB,EACGqB,QAAQ,CACPC,OAAQ,SACRsB,IAAG,GAAAb,OAAKhC,IAAL,KAAAgC,OAAgBjC,IAAhB,KAAAiC,OAA0BlC,IAA1B,KAAAkC,OAAqCa,EAArC,KAAAb,OAA4CqB,GAC/CvB,QAAS,CAAEkB,aAActC,KACzBc,iBAAiB,IAElBa,KAAKhB,EAAKf,EAAeC,SAKjBO,iOCnEFE,EAAQ,CACnBsC,QAvBc,WAAIC,GAwBlBC,MAtBY,CAAC,QAAS,SAAU,cAAe,IAuB/CC,KAXW,CAAEC,SAAU,GAAIC,KAAM,IAYjCzC,MAtBY,CACZC,WAAW,EACXyC,QAAS,GACTC,aAAa,EACbC,cAAc,EACdC,MAAO,GACPC,MAAO,CAAEX,GAAI,GAAIM,KAAM,IACvBM,MAAO,CAAEZ,GAAI,GAAIM,KAAM,KAgBvBO,SATe,SAAClD,GAAD,OAAYA,EAAME,MAAM2C,aAAe7C,EAAME,MAAM2C,aAUlEM,UATgB,SAACnD,GAAD,OACfA,EAAME,MAAM4C,cAAgB9C,EAAME,MAAM4C,cASzCvB,OAba,MCbT6B,UAAY,SAACpD,GACjB,IAAIqD,EACFrD,EAAMyC,KAAKJ,IACX1C,OAAOC,eAAeC,QAAQ,eAAiBG,EAAMyC,KAAK,cAS5D,OAPAa,QAAQC,IACN,cACAF,EACArD,EAAMyC,KACN9C,OAAOC,eAAeC,QAAQ,eAGzBwD,ICmBMG,EAjCG,SAAAlC,GAA0B,IAAdtB,EAAcsB,EAAvBmC,MAASzD,MACtBE,EAEF,oJAFEA,EAGE,8CAGFwD,EAAS,SAAAC,GACb,OAAO1E,UAAEyE,OACPC,EACA1E,kBAAE,OAAQ,CACR2E,MAAO,6BACPhF,EAAGoB,EAAME,MAAM2C,YAAc3C,EAAcA,MAIjD,MAAO,CACL2D,SAAU,SAAA/B,GAAa,IAAV6B,EAAU7B,EAAV6B,IAEX,OAAOD,EADIC,IAGbG,SAAU,SAAA3B,GAAa,IAAVwB,EAAUxB,EAAVwB,IAEX,OAAOD,EADIC,IAGbI,KAAM,SAAAC,GAAA,IAAYhE,EAAZgE,EAAGP,MAASzD,MAAZ,OACJf,kBAAE,oBAAqB,CACrBgF,MAAM,CAACC,KAAMlE,EAAME,MAAM2C,YAAa,QAAS,WAC/CsB,QAAS,kBAAMnE,EAAMkD,SAASlD,SC9B/B,IAQMoE,EAAyB,SAAAtC,GAAa,IAAV6B,EAAU7B,EAAV6B,IACvCA,EAAIM,MAAMI,QAAU,EACpBV,EAAIW,UAAUC,OAAO,cACrBZ,EAAIM,MAAMI,QAAU,GAeTG,EAAgC,SAACC,GAAD,OAAS,SAAAT,GAAa,IAAVL,EAAUK,EAAVL,IACvDA,EAAIM,MAAMI,QAAU,EACpBK,WAAW,WACTf,EAAIW,UAAUC,OAAO,aACrBZ,EAAIM,MAAMI,QAAU,GACP,KAAXI,EAAM,MAGCE,EAAU,SAACC,GAAD,OAAS,SAAAC,GAAa,IAAVlB,EAAUkB,EAAVlB,IACjCA,EAAIM,MAAMI,QAAU,EACpBK,WAAW,WACTf,EAAIW,UAAUC,OAAOK,GACrBjB,EAAIM,MAAMI,QAAU,GACnB,oDCrCQS,EAAYC,YACvBC,YAAK,KACLC,YAAM,KACNC,cACAC,eCJWC,EAAM,CACjBrB,KAAM,SAAAzC,GAAA,IAAA+D,EAAA/D,EAAGmC,MAAS6B,EAAZD,EAAYC,OAAQC,EAApBF,EAAoBE,MAApB,MAAkC,CACtCtG,kBACE,aACA,CACEkF,QAAS,kBAAMmB,MAEjBC,MAKOC,EAAW,CACtBzB,KAAM,SAAAjC,GAAA,IAAA2D,EAAA3D,EAAG2B,MAAS6B,EAAZG,EAAYH,OAAQC,EAApBE,EAAoBF,MAApB,MAAkC,CACtCtG,kBACE,mBACA,CACEkF,QAAS,kBAAMmB,MAEjBC,MCfAG,EAAY,CAChBC,OAAQ,SAAC3F,GAAD,MAAW,CACjBf,kBAAEmG,EAAK,CACLE,OAAQ,kBAAMtF,EAAMsC,QAAQsD,KAAK,iBACjCL,MAAO,gBAGXM,QAAS,iBAAM,CAAC,iBAChBC,MAAO,iBAAM,CAAC,WACdC,SAAU,iBAAM,CAAC,aACjBC,KAAM,iBAAM,CAAC,iBACbC,OAAQ,SAACjG,GAAD,MAAW,CACjBf,kBAAEmG,EAAK,CACLE,OAAQrG,UAAE8D,MAAMmD,IAAR,IAAAlF,OAAgBhB,EAAMyC,KAAK0D,SAA3B,YACRZ,MAAO,mBAETtG,kBAAEmG,EAAK,CACLE,OAAQrG,UAAE8D,MAAMmD,IAAR,IAAAlF,OACFhB,EAAMyC,KAAK0D,SADT,KAAAnF,OACqB8D,EAAU9E,EAAME,MAAM8C,MAAML,MADjD,eAGR4C,MAAO,gBAGXa,SAAU,SAACpG,GAAD,MAAW,CACnBf,kBAAEmG,EAAK,CACLE,OAAQrG,UAAE8D,MAAMmD,IAAR,IAAAlF,OAAgBhB,EAAMyC,KAAK0D,SAA3B,YACRZ,MAAO,qBAGXc,SAAU,SAACrG,GAAD,MAAW,CACnBf,kBAAEmG,EAAK,CACLE,OAAQrG,UAAE8D,MAAMmD,IAAR,IAAAlF,OACFhB,EAAMyC,KAAK0D,SADT,WAAAnF,OAC2B8D,EAAU9E,EAAME,MAAM8C,MAAML,QAE/D4C,MAAO,qBAKPe,EAAU,CACdvC,KAAM,SAAAzC,GAAA,IAAYtB,EAAZsB,EAAGmC,MAASzD,MAAZ,OACJf,kBAAE,WAAYyG,EAAU1F,EAAME,MAAM6C,OAAO/C,MAehCuG,EAZA,CACb1C,SAAUc,EAAQ,aAClBZ,KAAM,SAAAjC,GAAA,IAAY9B,EAAZ8B,EAAG2B,MAASzD,MAAZ,OACJf,kBACE,gBACA,CACEoD,GAAI,UAEN,CAACpD,kBAAEuE,EAAW,CAAExD,UAAUf,kBAAEqH,EAAS,CAAEtG,cC7C9BwG,EATA,CACb3C,SAAUc,EAAQ,WAClBZ,KAAM,kBAAM9E,kBAAE,gBAAiB,CAC7B4E,SAASW,EAA+BnC,GAAI,UAE9C,mBCNIoE,EAAM,SAAAnF,GAAwB,IAAZoF,EAAYpF,EAArBmC,MAASiD,IACtB,MAAO,CACL7C,SAAUO,EACVL,KAAM,SAAAjC,GAAA,IAAY6E,EAAZ7E,EAAG2B,MAASkD,IAAZ,OACJ1H,kBACE,QACA,CACEyH,MACArE,GAAE,GAAArB,OAAK2F,GACPC,KAAI,GAAA5F,OAAK2F,GACT9C,SAAU5E,UAAE8D,MAAM8D,MAEpBF,MA2BOG,EAtBC,SAAA3E,GAA0B,IACpC4E,EADoC5E,EAAvBsB,MAASzD,MACTwC,MAEjB,MAAO,CACLqB,SAAUO,EACVL,KAAM,SAAAC,GAAA,IAAYhE,EAAZgE,EAAGP,MAASzD,MAAZ,OACJf,kBACE,2BACA,CACEoD,GAAI,WAEN0E,EAAKC,IAAI,SAACL,EAAKlC,GAAN,OACPxF,kBAAEwH,EAAK,CACLC,IAAKjC,EACLwC,OAAQjH,EAAME,MAAM6C,OAAS4D,EAC7BA,cC1BGO,EANF,CACXrD,SAAUO,EACV+C,eNqC0B,SAAAC,GAAa,IAAVzD,EAAUyD,EAAVzD,IAC7B,OAAO,IAAInC,QAAQ,WAEjB,OADAmC,EAAIW,UAAU+C,OAAO,cACd3C,WAAW,WAChBf,EAAIW,UAAUgD,IAAI,mBAAoB,eACrC,QMzCLvD,KAAM,SAAAzC,GAAA,IAAGiG,EAAHjG,EAAGiG,SAAH,OAAkBtI,kBAAE,kBAAmBsI,KCAhCC,EAJF,CACXzD,KAAM,SAAAzC,GAAA,IAAUiG,EAAVjG,EAAEmC,MAAQ8D,SAAV,OAA0BtI,kBAAE,kBAAmB,CAAEoD,GAAI,WAAakF,KC4B3DE,EAxBA,SAAAnG,GAA0B,IAAdtB,EAAcsB,EAAvBmC,MAASzD,MACzB,MAAO,CACL+D,KAAM,SAAAjC,GAAA,IAAGyF,EAAHzF,EAAGyF,SAAH,OACJtI,kBACE,iBACA,CACEoD,GAAI,UAENkF,EACI,CACAtI,kBAAEsH,EAAQ,CAAEvG,UACW,SAAvBA,EAAME,MAAM0C,QACR5C,EAAME,MAAM2C,YACV5D,kBAAEiI,EAAMjI,kBAAE6H,EAAS,CAAE9G,WACrB,KACFf,kBAAE6H,EAAS,CAAE9G,UACjBf,kBAAEuI,EAAM,CAAExH,QAAOuH,aACjBtI,kBAAEuH,EAAQ,CAAExG,WAEZ,eCVC0H,EAAQ,CACnB3D,KAAM,SAAAzC,GAKA,IAAA+D,EAAA/D,EAJJmC,MACEzD,EAGEqF,EAHFrF,MAGE2H,EAAAtC,EAFFuC,EAAKlF,EAEHiF,EAFGjF,SAAUC,EAEbgF,EAFahF,KAAMkF,EAEnBF,EAFmBE,QAGvB,OAAO5I,kBAAE,SAAU,CACjBA,kBACE,aACA,CACEkF,QAAS,kBACPlF,UAAE8D,MAAMmD,IAAR,IAAAlF,OAAgBhB,EAAMyC,KAAKE,KAA3B,KAAA3B,OAAmC8D,EAAUnC,GAA7C,cAEJ1D,kBAAE,UAAW0D,IAEf1D,kBACE,aACA,CACEkF,QAAS,WACPnE,EAAME,MAAM8C,MAAMX,GAAKK,EACvB1C,EAAME,MAAM8C,MAAML,KAAOA,EACzB3C,EAAMsC,QAAQsD,KAAK,kBAGvB3G,kBAAE,UAAW,SAEfA,kBAAE,cAAe4I,EAAQC,QACzB7I,kBACE,oBACA,CACEkF,QAAS,WA1CC,IAAC9B,KA2CGK,EA3CI5C,IAAKsC,WAAW,cAAhBtC,CAA+BuC,IA2CzB0F,KAzClB,SAAC/H,GAAD,OAAW,SAACuB,GAC1B+B,QAAQ0E,KAAK,SAAUzG,EAAQvB,IAwCMiI,CAAQjI,GArC7B,SAACA,GAAD,OAAW,SAACK,GAC5BiD,QAAQC,IAAI,UAAWlD,GACvBL,EAAMsC,QAAQsD,KAAK,iBAmCkCsC,CAAUlI,MAGzDf,kBAAE,UAAW,UCTNkJ,EAxCD,WACZ,IAAIxE,EACA4D,EAGEa,EAAiB,CACrBrE,KAAM,kBAAMwD,IAGd,MAAO,CACL1D,SADK,SACIwE,GACPd,EAAWc,EAAEd,UAEb5D,EAAM2E,SAASC,cAAc,QAEzBC,UAAY,QAChBF,SAASG,KAAKC,YAAY/E,GAE1B1E,UAAE0J,MAAMhF,EAAKyE,IAEfQ,eAXK,SAWUP,GACbd,EAAWc,EAAEd,UAEfJ,eAAgB,WAGd,OADAxD,EAAIW,UAAUgD,IAAI,QACX,IAAI9F,QAAQ,SAACqH,GAClBlF,EAAImF,iBAAiB,eAAgBD,MAGzCE,SArBK,WAwBH9J,UAAE0J,MAAMhF,EAAK,MACb2E,SAASG,KAAKO,YAAYrF,IAE5BI,KA3BK,wBCTHkF,EAAQ,SAAClH,GAAD,MAAU,CAAEA,QCGpBkG,EAAU,SAAC/H,GAAD,OAAW,SAAAoB,GAAiB,IAAd4H,EAAc5H,EAAd4H,QAC5BhJ,EAAMiJ,MAAQD,EACd5F,QAAQ6F,MAAM,QAASjJ,EAAMiJ,SAOzBC,EAAqB,SAAClJ,GAAD,OAAW,SAACF,GAAD,OAAW,SAACS,GAGhD,OAFAP,EAAMiJ,MAAQ,KACd7F,QAAQC,IAAI,QAASvD,EAAOS,GACrBT,EAAMsC,QAAQsD,KAAK,eAAgB5F,EAAMsC,QAAQsD,KAAK,oBAGzDyD,EAAW,SAACrJ,GAAD,OAAW,SAACE,GAE3B,OADAoD,QAAQC,IAAI,YAAavD,EAAME,MAAOF,EAAMyC,KAAMvC,GACzB,UAArBF,EAAME,MAAM6C,MACV/C,EAAME,MAAM8C,MAAMX,IDhBEA,ECiBHrC,EAAME,MAAM8C,MAAMX,GDjBXM,ECiBezC,EAAMO,KAAKkC,KDhBxD7C,IAAKoC,QAAL,eAAAlB,OAA4BqB,GAA5BvC,CAAkCmJ,EAAM,CAAEtG,WCgBoBoF,KACxDE,EAAQ/H,GACRkJ,EAAmBlJ,EAAnBkJ,CAA0BpJ,IDpBT,SAAC2C,GAAD,OAAU7C,IAAK8B,SAAS,cAAd9B,CAA6BmJ,EAAM,CAAEtG,UCuB3D2G,CAAUpJ,EAAMO,KAAKkC,MACzB4G,ODpBwBC,ECoBDxJ,EAAMyC,KAAKC,SDpBC,SAAApB,GAAA,IAAGoB,EAAHpB,EAAGoB,SAAH,OAC1C5C,IAAKoC,QAAL,eAAAlB,OAA4B0B,EAA5B,YAAA5C,CAAgDmJ,EAAM,CAACO,QCoBhDzB,KAAKE,EAAQ/H,GAAQkJ,EAAmBlJ,EAAnBkJ,CAA0BpJ,KAG7B,UAArBA,EAAME,MAAM6C,OACdO,QAAQC,IAAI,kBAAmBrD,GAE7BF,EAAME,MAAM6C,MAGZ/C,EAAME,MAAM6C,MAGT7C,GDjCuB,IAACsJ,EAHLnH,EAAIM,ICuC1B8G,EAAU,CACdzG,MC3CuB,SAAC9C,GAAD,MAAW,CAClCjB,kBAAE,oBAAqB,CACrBA,kBAAE,SAAU,gBACZA,kBAAE,UAAW,CACXA,kBAAE,QAAS,CAAEyK,IAAK,QAAU,QAC5BzK,kBAAE,QAAS,CACT0K,KAAM,OACNtH,GAAI,OACJM,KAAM,OACNiH,MAAO1J,EAAMO,KAAKkC,KAClBkH,SAAU,SAACC,GACT5J,EAAMO,KAAKkC,KAAOmH,EAAEC,OAAOH,WAIjC1J,EAAMqB,OAAStC,kBAAE,UAAWiB,EAAMqB,OAAO,IAAM,OD6BjD0B,MCzBuB,SAAC/C,GAAD,MAAW,CAClCjB,kBAAE,oBAAqB,CACrBA,kBAAE,SAAU,gBACZA,kBAAE,UAAW,CACXA,kBAAE,QAAS,CAAEyK,IAAK,SAAW,SAC7BzK,kBAAE,QAAS,CACT0K,KAAM,OACNtH,GAAI,QACJM,KAAM,QACNkH,SAAU,SAACC,GACT5J,EAAMO,KAAKuJ,MAAQF,EAAEC,OAAOH,WAIlC3K,kBAAE,UAAW,CACXA,kBAAE,QAAS,CAAEyK,IAAK,eAAiB,eACnCzK,kBAAE,QAAS,CACT0K,KAAM,WACNtH,GAAI,cACJM,KAAM,cACNkH,SAAU,SAACC,GACT5J,EAAMO,KAAKwJ,YAAcH,EAAEC,OAAOH,WAIxC3K,kBAAE,UAAW,CACXA,kBAAE,QAAS,CAAEyK,IAAK,YAAc,YAChCzK,kBAAE,QAAS,CACT0K,KAAM,WACNtH,GAAI,WACJM,KAAM,WACNkH,SAAU,SAACC,GACT5J,EAAMO,KAAKyJ,SAAWJ,EAAEC,OAAOH,WAIrC3K,kBAAE,UAAW,CACXA,kBAAE,QAAS,CAAEyK,IAAK,QAAU,QAC5BzK,kBAAE,QAAS,CACT0K,KAAM,OACNtH,GAAI,OACJM,KAAM,OACNkH,SAAU,SAACC,GACT5J,EAAMO,KAAK0J,KAAOC,iBAAON,EAAEC,OAAOH,MAAO,WAI/C1J,EAAMqB,OAAStC,kBAAE,UAAWiB,EAAMqB,OAAO,IAAM,QDnBtC8I,EAAS,CACpBC,OAAQ,SAAAxI,GAAuC,IAAA2D,EAAA3D,EAApC2B,MAASzD,EAA2ByF,EAA3BzF,MAAOuK,EAAoB9E,EAApB8E,KAAQrK,EAAY4B,EAAZ5B,MAWjC,OAVAA,EAAMsK,KAAOf,EAAQc,GACrBrK,EAAMO,KAAO,GACb6C,QAAQC,IAAI,OAAQgH,EAAMrK,GAC1BA,EAAMsJ,OAASxJ,EAAMyC,KAAKJ,GACtBrC,EAAME,MAAM8C,MAAMX,IACpBiB,QAAQC,IAAI,KAAMvD,EAAME,MAAM8C,MAAMX,IACpCnC,EAAMO,KAAKkC,KAAO3C,EAAME,MAAM8C,MAAML,MAEpCW,QAAQC,IAAI,SAEPrD,GAET6D,KAAM,SAAA5B,GAAiC,IAArBnC,EAAqBmC,EAA9BsB,MAASzD,MAASE,EAAYiC,EAAZjC,MAEzB,OAAOjB,kBACL,YACA,CACEwL,SAAU,SAACX,GACT9J,EAAMmJ,MAAQ,KACdW,EAAEY,iBACWxK,EAAMO,MAAQ4I,EAASrJ,EAATqJ,CAAgBnJ,KAG/CA,EAAMsK,KAAKtK,GACXA,EAAMiJ,MAAQlK,kBAAE,UAAWiB,EAAMiJ,OAAS,GAC1ClK,kBACE,sBACA,CACE0L,MAAO3K,EAAME,MAAMC,UAAY,aAAe,UAEhDH,EAAME,MAAMC,UAAY,aAAe,aE3ElCyK,EAAa7F,YALT,SAAChD,GAAD,OACfjC,IAAKmC,QAAL,eAAAjB,OAA4Be,EAA5B,4BAEY,SAACM,GAAD,OAAQwI,UAAS,6BAAA7J,OAA8BqB,EAA9B,QCCzByI,EAAc,SAAC5K,GACnBA,EAAMiD,WAAajD,EAAMiD,WAQd4H,EAAS,CACpB5H,WAAW,EACXmH,OAAQ,SAAAhJ,GAAsC,IAAnCqC,EAAmCrC,EAAnCqC,IAAKzD,EAA8BoB,EAA9BpB,MAAgBF,EAAcsB,EAAvBmC,MAASzD,MAC9BA,EAAMsC,QAAQ0I,GAAG,eAAgB,kBAAMF,EAAY5K,IAAQyD,GAC3D3D,EAAMsC,QAAQ0I,GACZ,eACA,kBACEJ,EAAW5K,EAAMyC,KAAKC,UAAUqF,KAbpB,SAAC7H,GAAD,OAAW,SAACqB,GAAD,OAAarB,EAAMqB,OAASA,GAcjD0J,CAAY/K,GAZA,SAACA,GAAD,OAAW,SAACyF,GAChCzF,EAAMyF,OAASA,GAYPuF,CAAchL,KAElByD,IAGJE,SAAU,SAAA/B,GAAA,OAAAA,EAAG2B,MAASzD,MAAoBsC,QAAQsD,KAAK,iBACvD7B,KAAM,SAAA5B,GAAA,IAAYnC,EAAZmC,EAAGsB,MAASzD,MAASE,EAArBiC,EAAqBjC,MAArB,MAAiC,CACrCjB,kBACE,UACAiB,EAAMyF,OACFzF,EAAMyF,OAAOqB,IAAI,SAACY,EAAGvF,GAAJ,OACjBpD,kBAAEyI,EAAO,CAAE1H,QAAO4H,IAAGlB,IAAKrE,GAAzB,OAAArB,OAAsCqB,MAEvC,eAENnC,EAAMiD,UACFlE,kBACAkJ,EACAlJ,kBAAE,iBAAkB,CAClBA,kBAAEoL,EAAQ,CAAErK,QAAOuK,KAAM,QAASlI,GAAIrC,EAAME,MAAM8C,MAAMX,KACxDpD,kBAAEuG,EAAU,CACVF,OAAQ,WACNtF,EAAME,MAAM8C,MAAMX,GAAK,GACvBrC,EAAMsC,QAAQsD,KAAK,iBAErBL,MAAO,aAIX,KAENwD,SAAU,SAAA/E,GAAA,IAAGL,EAAHK,EAAGL,IAAH,OAAAK,EAAQP,MAASzD,MACnBsC,QAAQ6I,eAAe,eAAgBL,EAAanH,KChDxDyH,EAAQ,CAAC,MAAO,KAAM,SA8BfC,EAAS,CACpBf,OAAQ,SAAAhJ,GAAsC,IAAA+D,EAAA/D,EAAnCmC,MAASiD,EAA0BrB,EAA1BqB,IAAK1G,EAAqBqF,EAArBrF,MAASE,EAAYoB,EAAZpB,MAChCoD,QAAQC,IAAImD,EAAK1G,EAAOE,IAG1B6D,KAAM,SAAAjC,GAAsC,IAAA2D,EAAA3D,EAAnC2B,MAAuBvD,GAAYuF,EAA1BiB,IAA0BjB,EAArBzF,MAAqB8B,EAAZ5B,OAC9B,OAAOA,EAAMoL,OACTrM,kBAAE,UAAW,CACbA,kBAAE,UAAWiB,EAAMoL,OAAOtB,OAC1B/K,kBAAE,UAAWiB,EAAMoL,OAAOC,OAC1BtM,kBAAE,SAAUiB,EAAMoL,OAAOnB,MACzBlL,kBACE,SACAmM,EAAMpE,IAAI,SAACwE,GAAD,OACRvM,kBAAC,gBAAA+B,OAEGd,EAAMoL,OAAO7L,UAAY+L,EAAO,cAAgB,IAElD,CACErH,QAAS,WACPjE,EAAMoL,OAAO7L,SAAW+L,IAI5BA,MAINvM,kBAAE,cAAeiB,EAAMoL,OAAOG,aAE9B,KCvDKC,EAAU,CACrBpB,OAAQ,SAAAhJ,GAAiC,IAArBtB,EAAqBsB,EAA9BmC,MAASzD,MAASE,EAAYoB,EAAZpB,MAC3BA,EAAMyL,QAAU,GAChBzL,EAAMqB,OAAS,GACf+B,QAAQC,IAAIvD,IAGd+D,KAAM,SAAAjC,GAAiC,IAArB9B,EAAqB8B,EAA9B2B,MAASzD,MAASE,EAAY4B,EAAZ5B,MAEzB,OADAoD,QAAQC,IAAI,QAASrD,GACdjB,kBACL,cACAiB,EAAMyL,QAAQ3E,IAAI,SAAA7E,GAAA,IAAGE,EAAHF,EAAGE,GAAH,OAAYpD,kBAAEoM,EAAQ,CAAErL,QAAO0G,IAAKrE,GAAvB,OAAArB,OAAoCqB,SCrB5DuJ,EAAe,SAAAtK,GAAA,IAAGiK,EAAHjK,EAAGiK,MAAOM,EAAVvK,EAAUuK,SAAV,QAC1BN,KAASM,GAKEC,EAAY,SAACrL,GACxB,IAAIsB,EAAM,CACR+D,MAAOrF,EAAK8K,MACZM,SAAUpL,EAAKoL,UAGjB,OAAO/L,IAAK8B,SAAS,cAAd9B,CAA6B,CAAEiC,SCLlCmG,EAAY,SAAChI,GAAD,OAAW,SAACF,GAAD,OAAW,SAACyC,GACvC9C,OAAOC,eAAemM,QAAQ,aAActJ,EAAK,eACjDzC,EAAMyC,KAAOA,EACbvC,EAAMqB,OAAS,KDPY,SAACvB,GAAD,OAAW,SAAC+C,GAAD,OACtC9D,UAAE8D,MAAMuF,SAASG,KAAM1F,EAAOiJ,GAAIhM,KCOlCiM,CAAcjM,EAAdiM,CAAA,IAAAjL,OAAyB8D,EAAU9E,EAAMyC,KAAKE,MAA9C,eAGIsF,EAAU,SAAC/H,GAAD,OAAW,SAAAoB,GAAiB,IAAd4H,EAAc5H,EAAd4H,QAG5B,OAFAhJ,EAAMqB,OAAS2H,EACf5F,QAAQC,IAAIrD,GACLA,IAMHgM,EAAU,SAAClM,GAAD,OAAW,SAAC+B,GAAD,ODTC,SAACA,GAAD,OAASjC,IAAK8B,SAAS,iBAAd9B,CAAgC,CAAEiC,QCUrEoK,CAAapK,GACVwH,MAAM,kBAAMuC,EAAU/J,KACtBgG,KAAKE,EAAQlG,GAAMmG,EAAUnG,EAAVmG,CAAelI,MAEjCoM,EAAQ,CACZrI,KAAM,SAAAjC,GAAA,IAAY9B,EAAZ8B,EAAG2B,MAASzD,MAASE,EAArB4B,EAAqB5B,MAArB,OACJjB,kBACE,YACA,CACEwL,SAAU,SAACX,GACT5J,EAAMqB,OAAS,KACfuI,EAAEY,iBACFkB,EAAa1L,IAhBL,SAACF,GAAD,OAAW,SAACE,GAAD,OAC3B4L,EAAU5L,GAAO6H,KAAKE,EAAQ/H,GAAQgI,EAAUhI,EAAVgI,CAAiBlI,KAezBqM,CAAUrM,EAAVqM,CAAiBnM,KAG3C,CACEjB,kBAAE,oBAAqB,CACrBA,kBAAE,SAAU,SACZA,kBAAE,UAAW,CACXA,kBAAE,QAAS,CAAEyK,IAAK,SAAW,SAC7BzK,kBAAE,QAAS,CACT0K,KAAM,QACNtH,GAAI,QACJM,KAAM,QACNkH,SAAU,SAACC,GAAD,OAAQ5J,EAAMqL,MAAQzB,EAAEC,OAAOH,SAE3C3K,kBAAE,QAAS,CAAEyK,IAAK,YAAc,YAChCzK,kBAAE,QAAS,CACT0K,KAAM,WACNtH,GAAI,WACJM,KAAM,QACNkH,SAAU,SAACC,GAAD,OAAQ5J,EAAM2L,SAAW/B,EAAEC,OAAOH,WAGhD3K,kBACE,sBACA,CACE0L,MAAO3K,EAAME,MAAMC,UAAY,aAAe,UAEhDH,EAAME,MAAMC,UAAY,aAAe,UAEzCD,EAAMqB,OAAStC,kBAAE,UAAWiB,EAAMqB,QAAU,KAE9CtC,kBACE,IACA,CACE4E,SAAU5E,UAAE8D,MAAM8D,KAClBD,KAAM,aAER,gBAMJ0F,EAAW,CACfvI,KAAM,SAAA5B,GAAA,IAAYnC,EAAZmC,EAAGsB,MAASzD,MAASE,EAArBiC,EAAqBjC,MAArB,OACJjB,kBACE,YACA,CACEwL,SAAU,SAACX,GACT5J,EAAMqB,OAAS,KACfuI,EAAEY,iBACFkB,EAAa1L,IAASgM,EAAQlM,EAARkM,CAAehM,KAGzC,CACEjB,kBAAE,oBAAqB,CACrBA,kBAAE,SAAU,YACZA,kBAAE,UAAW,CACXA,kBAAE,QAAS,CAAEyK,IAAK,SAAW,SAC7BzK,kBAAE,QAAS,CACT0K,KAAM,QACNtH,GAAI,QACJM,KAAM,WACNkH,SAAU,SAACC,GAAD,OAAQ5J,EAAMqL,MAAQzB,EAAEC,OAAOH,SAE3C3K,kBAAE,QAAS,CAAEyK,IAAK,QAAU,QAC5BzK,kBAAE,QAAS,CACT0K,KAAM,OACNtH,GAAI,OACJM,KAAM,WACNkH,SAAU,SAACC,GAAD,OAAQ5J,EAAMyC,KAAOmH,EAAEC,OAAOH,SAE1C3K,kBAAE,QAAS,CAAEyK,IAAK,YAAc,YAChCzK,kBAAE,QAAS,CACT0K,KAAM,WACNtH,GAAI,WACJM,KAAM,WACNkH,SAAU,SAACC,GAAD,OAAQ5J,EAAM2L,SAAW/B,EAAEC,OAAOH,WAGhD3K,kBACE,sBACA,CAAE0L,MAAO3K,EAAME,MAAMC,UAAY,aAAe,UAChDH,EAAME,MAAMC,UAAY,aAAe,UAEzCD,EAAMqB,OAAStC,kBAAE,UAAWiB,EAAMqB,QAAU,KAE9CtC,kBACE,IACA,CACE4E,SAAU5E,UAAE8D,MAAM8D,KAClBD,KAAM,UAER,aCjIJ2F,EAAY,CAChBxI,KAAM,SAAAzC,GAAA,IAAYtB,EAAZsB,EAAGmC,MAASzD,MAAZ,OAA0Bf,kBAAE,aAAcA,kBAAEmN,EAAO,CAAEpM,aAGvDwM,EAAe,CACnBzI,KAAM,SAAAjC,GAAA,IAAY9B,EAAZ8B,EAAG2B,MAASzD,MAAZ,OAA0Bf,kBAAE,aAAcA,kBAAEqN,EAAU,CAAEtM,aAGnDyM,EAAkB,SAACzM,GAAD,MAAY,CACzC0M,SAAU,CACRC,QAAS,WACP3M,EAAME,MAAM6C,MAAQ,SAEtBW,OAAQ,kBAAMzE,kBAAEwI,EAAQ,CAAEzH,SAASf,kBAAEsN,EAAW,CAAEvM,aAEpD4M,YAAa,CACXD,QAAS,WACP3M,EAAME,MAAM6C,MAAQ,YAEtBW,OAAQ,kBAAMzE,kBAAEwI,EAAQ,CAAEzH,SAASf,kBAAEuN,EAAc,CAAExM,eCdnD6M,GAAa,CACjB9I,KAAM,SAAAzC,GAAA,IAAYtB,EAAZsB,EAAGmC,MAASzD,MAAZ,OAA0Bf,kBAAE,aAAcA,kBAAE8L,EAAQ,CAAE/K,aAGxD8M,GAAa,CACjB/I,KAAM,SAAAjC,GAAA,IAAY9B,EAAZ8B,EAAG2B,MAASzD,MAAZ,OAA0Bf,kBAAE,aAAcA,kBAAEyM,EAAS,CAAE1L,aAGzD+M,GAAa,CACjBhJ,KAAM,SAAA5B,GAAA,IAAA6K,EAAA7K,EAAGsB,MAASzD,EAAZgN,EAAYhN,MAAOuK,EAAnByC,EAAmBzC,KAAMlI,EAAzB2K,EAAyB3K,GAAzB,OACJpD,kBAAE,aAAcA,kBAAEoL,EAAQ,CAAErK,QAAOuK,OAAMlI,UAGhC2J,GAAM,SAAChM,GAAD,MAAY,CAC7BiN,oBAAqB,CACnBN,QAAS,WACP3M,EAAME,MAAM6C,MAAQ,SACpBK,EAAUpD,IAEZ0D,OAAQ,kBAAMzE,kBAAEwI,EAAQ,CAAEzH,SAASf,kBAAE4N,GAAY,CAAE7M,aAErDkN,2BAA4B,CAC1BP,QAAS,SAACQ,EAAMC,GACd9J,QAAQC,IAAI,aAAc4J,EAAMC,GAChCpN,EAAME,MAAM6C,MAAQ,SACpBK,EAAUpD,IAEZ0D,OAAQ,kBAAMzE,kBAAEwI,EAAQ,CAAEzH,SAASf,kBAAE6N,GAAY,CAAE9M,aAErDqN,8BAA+B,CAC7BV,QAAS,SAACQ,EAAMC,GACd9J,QAAQC,IAAI,aAAc4J,EAAMC,GAChCpN,EAAME,MAAM6C,MAAQ,WACpBK,EAAUpD,IAEZ0D,OAAQ,kBACNzE,kBAAEwI,EAAQ,CAAEzH,SAASf,kBAAE8N,GAAY,CAAE/M,QAAOuK,KAAM,QAASlI,GAAI,UAEnEiL,gCAAiC,CAC/BX,QAAS,SAACQ,EAAMC,GACd9J,QAAQC,IAAI,aAAc4J,EAAMC,GAChCpN,EAAME,MAAM6C,MAAQ,YACpBK,EAAUpD,IAEZ0D,OAAQ,kBACNzE,kBACEwI,EACA,CAAEzH,SACFf,kBAAE8N,GAAY,CAAE/M,QAAOuK,KAAM,QAASlI,GAAI,eAGhDkL,UAAW,CACTZ,QAAS,WACP3M,EAAMyC,KAAO,GACbW,EAAUpD,IAEZ0D,OAAQ,kBAAMzE,UAAE8D,MAAMuF,SAASG,KAAM,SAAUgE,EAAgBzM,QCjE7DwN,yBAAOlF,SAASG,MAqBtB,SAASgF,GAAWC,GAClB,OAAIA,EAAI,IAAY,QAChBA,EAAI,IAAY,SACb,UAGT,IAAIC,GAAOhO,OAAOiO,WAClB5N,EAAME,MAAM0C,QAAU6K,GAAWE,IAa7B,kBAAmBE,WACrBlO,OAAOmJ,iBAAiB,OAAQ,WAC9B+E,UAAUC,cACP/H,SAAS,uBACT1E,KAAK,SAAC0M,GACLzK,QAAQC,IAAI,qBAAsBwK,KAEnCC,MAAM,SAACC,GACN3K,QAAQC,IAAI,8BAA+B0K,OAnBnD,SAASC,IACP,IAAMR,EAAI/N,OAAOiO,WACjB,GAAID,KAASD,EAAG,CACdC,GAAOD,EACP,IAAIS,EAAcnO,EAAME,MAAM0C,QAC9B5C,EAAME,MAAM0C,QAAU6K,GAAWC,GAC7BS,GAAenO,EAAME,MAAM0C,SAAS3D,UAAEmP,SAE5CC,sBAAsBH,GAgBxBA,GAEA9K,EAAUpD,GACNf,UAAE8D,MAAMuF,SAASG,KAAjB,IAAAzH,OAA2B8D,EAAU9E,EAAMyC,KAAKE,MAAhD,WAAgEqJ,GAAIhM,IACpEf,UAAE8D,MAAMyK,GAAM,SAAUf,EAAgBzM","file":"main-932e9e80a2a3a0fa28cb-chunk.js","sourcesContent":["export const TOKEN =\r\n  'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1NTUyODM4NTksIm5iZiI6MTU1NTI4Mzg1OSwiZXhwIjoxNTU1MzcwMjU5fQ.jwZa642QeexFDfAA2nUcZe5QXqTf6PtMSSAGY9Bw5Es'\r\n\r\nexport const prismaUrl = 'https://us1.prisma.sh/boaz-blake-8951e1/shindigit/dev'\r\nexport const restDbUrl = 'https://mithril-ae5c.restdb.io/rest/'\r\n// GITHUB\r\nexport const GITHUB_CLIENT_ID = 'dee0eca430c29232f457'\r\nexport const GITHUB_CLIENT_SECRET = 'b659022d58d1c4618afc81585a0d532db3e7d43a'\r\n\r\n//backendless\r\nexport const API_KEY = '3AA68F17-E271-EE57-FF46-EB6E95626600'\r\nexport const APP_ID = '72F4AE0D-0876-A16A-FF0F-A2D7A65AE300'\r\n//URL\r\nexport const baseUrl = 'https://api.backendless.com'\r\n\r\n//RESTDB\r\nexport const REST_CLIENT_ID = 'wly12TyM6CBy5rA90BfNTbh14dgN9KyZ'\r\nexport const REST_CLIENT_SECRET =\r\n  'ebaYxkz-HK10ebILuY1YjK2sb6Iy3GET7NPjKlz9G0vsd2D0z6SMlY7sylUgkb57'\r\n","import Task from 'data.task'\r\nimport { baseUrl, APP_ID, API_KEY } from './secrets.js'\r\n\r\nconst makeQuery = (string) => JSON.parse(JSON.stringify(string))\r\n\r\nconst parseQLResponse = (model) => ({ data, errors }) => {\r\n  model.state.isLoading = false\r\n  return errors ? Promise.reject(errors) : Promise.resolve(data)\r\n}\r\n\r\nexport const parseHttpError = (rej) => (Error) => rej(Error.response)\r\n\r\nconst getUserToken = () =>\r\n  window.sessionStorage.getItem('user-token')\r\n    ? window.sessionStorage.getItem('user-token')\r\n    : ''\r\n\r\nconst postQl = (model) => (query) => {\r\n  model.state.isLoading = true\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'POST',\r\n        // url: graphQl,\r\n        withCredentials: false,\r\n        data: makeQuery(query),\r\n        headers: {\r\n          Authorization: `Bearer ${model.state.token}`,\r\n          'cache-control': 'no-cache',\r\n          'x-apikey': '64fecd3f0cbb54d46d7f7260b86b8ad45d31b',\r\n          'content-type': 'application/json',\r\n        },\r\n      })\r\n      .then(parseQLResponse(model))\r\n      .then(res, parseHttpError(rej))\r\n  )\r\n}\r\n\r\nconst postTask = (url) => ({ dto }) =>\r\n  new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'POST',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}`,\r\n        data: dto,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(res, parseHttpError(rej))\r\n  )\r\n\r\nconst putTask = (url) => ({ dto }) =>\r\n  new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'PUT',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}`,\r\n        data: dto,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(res, parseHttpError(rej))\r\n  )\r\n\r\nconst getTask = (url) =>\r\n  new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'GET',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}`,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(res, parseHttpError(rej))\r\n  )\r\n\r\nconst deleteTask = (url) => (id) =>\r\n  new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'DELETE',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}/${id}`,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(res, parseHttpError(rej))\r\n  )\r\n\r\nconst http = { postQl, postTask, getTask, putTask, deleteTask }\r\n\r\nexport default http\r\n","import AsyncEventEmitter from 'async-eventemitter'\r\nconst emitter = new AsyncEventEmitter()\r\n\r\nconst pages = ['login', 'logout', 'createEvent', '']\r\n\r\nconst state = {\r\n  isLoading: false,\r\n  profile: '',\r\n  tabsShowing: false,\r\n  modalShowing: false,\r\n  route: '',\r\n  group: { id: '', name: '' },\r\n  event: { id: '', name: '' },\r\n}\r\n\r\nconst user = { objectId: '', name: '' }\r\n\r\nconst errors = null\r\n\r\nconst showTabs = (model) => (model.state.tabsShowing = !model.state.tabsShowing)\r\nconst showModal = (model) =>\r\n  (model.state.modalShowing = !model.state.modalShowing)\r\n\r\nexport const model = {\r\n  emitter,\r\n  pages,\r\n  user,\r\n  state,\r\n  showTabs,\r\n  showModal,\r\n  errors,\r\n}\r\n","import bcrypt from 'bcryptjs'\r\n\r\nconst secure = (str) => bcrypt.hash(str, 10)\r\n\r\nconst checkAuth = (model) => {\r\n  let userLogedIn =\r\n    model.user.id &&\r\n    window.sessionStorage.getItem('user-token') == model.user['user-token']\r\n\r\n  console.log(\r\n    'userLogedIn',\r\n    userLogedIn,\r\n    model.user,\r\n    window.sessionStorage.getItem('user-token')\r\n  )\r\n\r\n  return userLogedIn\r\n}\r\n\r\nexport { secure, checkAuth }\r\n","import m from 'mithril'\r\n\r\nconst Hamburger = ({ attrs: { model } }) => {\r\n  const state = {\r\n    close:\r\n      'M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z',\r\n    open: 'M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z',\r\n  }\r\n\r\n  const render = dom =>{\r\n    return m.render(\r\n      dom,\r\n      m('path', {\r\n        xmlns: 'http://www.w3.org/2000/svg',\r\n        d: model.state.tabsShowing ? state.close : state.open,\r\n      })\r\n    )}\r\n\r\n  return {\r\n    oncreate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    onupdate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    view: ({ attrs: { model } }) =>\r\n      m('svg.btn.hamburger', {\r\n        style:{fill: model.state.tabsShowing? 'white': 'inherit'},\r\n        onclick: () => model.showTabs(model),\r\n      }),\r\n  }\r\n}\r\n\r\nexport default Hamburger\r\n","export const animateComponentEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  return setTimeout(() => {\r\n    dom.classList.toggle('stretchRight')\r\n    dom.style.opacity = 1\r\n  }, idx * 100 + 20)\r\n}\r\n\r\nexport const animateSidebarEntrance = ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  dom.classList.toggle('slideRight')\r\n  dom.style.opacity = 1\r\n}\r\n\r\nexport const animateChildrenEntrance = ({ dom }) => {\r\n  let children = [...dom.children]\r\n\r\n  return children.map((child, idx) => {\r\n    child.style.opacity = 0\r\n    setTimeout(() => {\r\n      child.classList.toggle('slideRight')\r\n      child.style.opacity = 1\r\n    }, (idx + 1) * 10)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle('slideDown')\r\n    dom.style.opacity = 1\r\n  }, (idx + 1) * 200)\r\n}\r\n\r\nexport const animate = (dir) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle(dir)\r\n    dom.style.opacity = 1\r\n  }, 200)\r\n}\r\n\r\nexport const slideMenuOut = ({ dom }) => {\r\n  return new Promise(() => {\r\n    dom.classList.remove('slideRight')\r\n    return setTimeout(() => {\r\n      dom.classList.add('reverseAnimation', 'slideRight')\r\n    }, 200)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsExit = ({ dom }) =>\r\n  new Promise(() => {\r\n    [...dom.children].reverse().map((child, idx) => {\r\n      return setTimeout(() => {\r\n        child.style.display = 'none'\r\n      }, idx * 100)\r\n    })\r\n  })\r\n","import { compose, join, split, trim, toLower } from 'ramda'\r\n\r\nexport const makeRoute = compose(\r\n  join('-'),\r\n  split(' '),\r\n  trim(),\r\n  toLower()\r\n)\r\n\r\nexport const log = (m) => (v) => {\r\n  console.log(m, v)\r\n  return v\r\n}\r\n\r\n// function scrollToAnchor(anchorName) {\r\n//   let is = (el) => {\r\n//     return el !== undefined && el !== null\r\n//   }\r\n//   //if you pass an undefined anchor it will scroll to the top of the body\r\n//   let targetEl = is(anchor)\r\n//     ? document.querySelector('a[name=' + anchor + ']')\r\n//     : document.body\r\n//   let scrollTop = window.pageYOffset || document.documentElement.scrollTop\r\n//   let target = is(targetEl) ? targetEl.getBoundingClientRect().top : 0\r\n//   window.scroll({\r\n//     top: target + scrollTop - 70,\r\n//     left: 0,\r\n//     behavior: 'smooth',\r\n//   })\r\n// }\r\n\r\n// onclick: (e) => {\r\n//   let anchor = \"contact-me\";\r\n//   m.route.set(\"/home\", { \"a\": anchor });\r\n//   scrollToAnchor(anchor);\r\n// }\r\n// https://dev.to/weirdmayo/anchor-links-in-mithriljs-277l\r\n","import m from 'mithril'\r\n\r\nexport const Btn = {\r\n  view: ({ attrs: { action, label } }) => [\r\n    m(\r\n      'button.Btn',\r\n      {\r\n        onclick: () => action(),\r\n      },\r\n      label\r\n    ),\r\n  ],\r\n}\r\n\r\nexport const BtnClose = {\r\n  view: ({ attrs: { action, label } }) => [\r\n    m(\r\n      'button.btn-close',\r\n      {\r\n        onclick: () => action(),\r\n      },\r\n      label\r\n    ),\r\n  ],\r\n}\r\n","import m from 'mithril'\r\nimport Hamburger from './Hamburger.js'\r\nimport { animate } from '../assets/index.js'\r\nimport { makeRoute } from '../utils/index.js'\r\nimport { Btn } from './Btns.js'\r\n\r\nconst actionsAt = {\r\n  groups: (model) => [\r\n    m(Btn, {\r\n      action: () => model.emitter.emit('toggle-group'),\r\n      label: 'Add Group',\r\n    }),\r\n  ],\r\n  landing: () => ['LANDING PAGE'],\r\n  login: () => ['Log in'],\r\n  register: () => ['Register'],\r\n  home: () => ['LANDING PAGE'],\r\n  events: (model) => [\r\n    m(Btn, {\r\n      action: m.route.set(`/${model.user.username}/groups`),\r\n      label: 'Back to Groups',\r\n    }),\r\n    m(Btn, {\r\n      action: m.route.set(\r\n        `/${model.user.username}/${makeRoute(model.state.group.name)}/new-event`\r\n      ),\r\n      label: 'Add Event',\r\n    }),\r\n  ],\r\n  newGroup: (model) => [\r\n    m(Btn, {\r\n      action: m.route.set(`/${model.user.username}/groups`),\r\n      label: 'Back to Groups',\r\n    }),\r\n  ],\r\n  newEvent: (model) => [\r\n    m(Btn, {\r\n      action: m.route.set(\r\n        `/${model.user.username}/groups${makeRoute(model.state.group.name)}`\r\n      ),\r\n      label: 'Back to Group',\r\n    }),\r\n  ],\r\n}\r\n\r\nconst Actions = {\r\n  view: ({ attrs: { model } }) =>\r\n    m('.actions', actionsAt[model.state.route](model)),\r\n}\r\n\r\nconst Header = {\r\n  oncreate: animate('slideDown'),\r\n  view: ({ attrs: { model } }) =>\r\n    m(\r\n      'header.header',\r\n      {\r\n        id: 'header',\r\n      },\r\n      [m(Hamburger, { model }), m(Actions, { model })]\r\n    ),\r\n}\r\n\r\nexport default Header\r\n","import m from 'mithril'\r\nimport { animate, animateChildrenLimitsEntrance } from '../assets/index.js'\r\n\r\n\r\nconst Footer = {\r\n  oncreate: animate('slideUp'),\r\n  view: () => m('footer.footer', {\r\n    oncreate:animateChildrenLimitsEntrance, id: 'footer',\r\n  },\r\n  'by Boaz Blake',\r\n  ),\r\n}\r\n\r\nexport default Footer\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance } from '../assets/index.js'\r\n\r\nconst Tab = ({ attrs: { key } }) => {\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { tab } }) =>\r\n      m(\r\n        'a.tab',\r\n        {\r\n          key,\r\n          id: `${tab}`,\r\n          href: `${tab}`,\r\n          oncreate: m.route.link,\r\n        },\r\n        tab\r\n      ),\r\n  }\r\n}\r\n\r\nconst Sidebar = ({ attrs: { model } }) => {\r\n  let tabs = model.pages\r\n\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { model } }) =>\r\n      m(\r\n        'aside.sidebar slide-left',\r\n        {\r\n          id: 'sidebar',\r\n        },\r\n        tabs.map((tab, idx) =>\r\n          m(Tab, {\r\n            key: idx,\r\n            active: model.state.route == tab,\r\n            tab,\r\n          })\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Sidebar\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance, slideMenuOut } from '../assets/index.js'\r\n\r\nconst Menu = {\r\n  oncreate: animateSidebarEntrance,\r\n  onbeforeremove: slideMenuOut,\r\n  view: ({ children }) => m('.navigationMenu', children),\r\n}\r\n\r\nexport default Menu\r\n","import m from 'mithril'\r\n\r\nconst Body = {\r\n  view: ({attrs:{ children }}) => m('section.content', { id: 'content' }, children),\r\n}\r\n\r\nexport default Body\r\n","import m from 'mithril'\r\nimport Header from './Header.js'\r\nimport Footer from './Footer.js'\r\nimport Sidebar from './NavBar.js'\r\nimport Menu from './Menu.js'\r\nimport Body from './Body.js'\r\n\r\nconst Layout = ({ attrs: { model } }) => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\r\n        'section.layout',\r\n        {\r\n          id: 'layout',\r\n        },\r\n        children\r\n          ? [\r\n            m(Header, { model }),\r\n            model.state.profile == 'phone'\r\n              ? model.state.tabsShowing\r\n                ? m(Menu, m(Sidebar, { model }))\r\n                : null\r\n              : m(Sidebar, { model }),\r\n            m(Body, { model, children }),\r\n            m(Footer, { model }),\r\n          ]\r\n          : []\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","import m from 'mithril'\r\n\r\nimport { makeRoute } from '../../utils/index.js'\r\nimport http from '../../http.js'\r\n\r\nconst deleteGroup = (id) => http.deleteTask('data/groups')(id)\r\n\r\nconst onError = (model) => (errors) => {\r\n  console.warn('errors', errors, model)\r\n}\r\n\r\nconst onSuccess = (model) => (res) => {\r\n  console.log('success', res)\r\n  model.emitter.emit('fetch-groups')\r\n}\r\n\r\nexport const Group = {\r\n  view: ({\r\n    attrs: {\r\n      model,\r\n      g: { objectId, name, members },\r\n    },\r\n  }) => {\r\n    return m('.group', [\r\n      m(\r\n        'button.btn',\r\n        {\r\n          onclick: () =>\r\n            m.route.set(`/${model.user.name}/${makeRoute(name)}/events`),\r\n        },\r\n        m('p.title', name)\r\n      ),\r\n      m(\r\n        'button.btn',\r\n        {\r\n          onclick: () => {\r\n            model.state.group.id = objectId\r\n            model.state.group.name = name\r\n            model.emitter.emit('toggle-group')\r\n          },\r\n        },\r\n        m('p.title', 'Edit')\r\n      ),\r\n      m('p.groupSize', members.length),\r\n      m(\r\n        'button.btn-delete',\r\n        {\r\n          onclick: () => {\r\n            deleteGroup(objectId).fork(onError(model), onSuccess(model))\r\n          },\r\n        },\r\n        m('p.title', 'X')\r\n      ),\r\n    ])\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\nconst Modal = function() {\r\n  let dom\r\n  let children\r\n\r\n  // Container component we mount to a root-level DOM node\r\n  const ModalContainer = {\r\n    view: () => children,\r\n  }\r\n\r\n  return {\r\n    oncreate(v) {\r\n      children = v.children\r\n      // Append a modal container to the end of body\r\n      dom = document.createElement('div')\r\n      // The modal class has a fade-in animation\r\n      dom.className = 'modal'\r\n      document.body.appendChild(dom)\r\n      // Mount a separate VDOM tree here\r\n      m.mount(dom, ModalContainer)\r\n    },\r\n    onbeforeupdate(v) {\r\n      children = v.children\r\n    },\r\n    onbeforeremove: () => {\r\n      // Add a class with fade-out exit animation\r\n      dom.classList.add('hide')\r\n      return new Promise((r) => {\r\n        dom.addEventListener('animationend', r)\r\n      })\r\n    },\r\n    onremove() {\r\n      // Destroy the modal dom tree. Using m.mount with\r\n      // null triggers any modal children removal hooks.\r\n      m.mount(dom, null)\r\n      document.body.removeChild(dom)\r\n    },\r\n    view() {},\r\n  }\r\n}\r\n\r\nexport default Modal\r\n","import http from '../http.js'\r\n\r\nconst toDto = (dto) => ({ dto })\r\n\r\nexport const getGroupData = (id) => http.getTask(`/data/Groups/${id}`)\r\n\r\nexport const saveGroup = (name) => http.postTask('data/Groups')(toDto({ name }))\r\nexport const updateGroup = (id, name) =>\r\n  http.putTask(`data/Groups/${id}`)(toDto({ name }))\r\n\r\nexport const assocUserToGroup = (userId) => ({ objectId }) =>\r\n  http.putTask(`data/Groups/${objectId}/members`)(toDto([userId]))\r\n","import m from 'mithril'\r\n\r\nimport { groupForm, eventForm } from './forms/index.js'\r\nimport { saveGroup, assocUserToGroup, updateGroup } from './model.js'\r\n\r\nconst onError = (state) => ({ message }) => {\r\n  state.error = message\r\n  console.error('error', state.error)\r\n}\r\n\r\nconst validateData = (data) => {\r\n  return data\r\n}\r\n\r\nconst onSaveGroupSuccess = (state) => (model) => (data) => {\r\n  state.error = null\r\n  console.log('saved', model, data)\r\n  return model.emitter.emit('toggle-group', model.emitter.emit('fetch-groups'))\r\n}\r\n\r\nconst saveForm = (model) => (state) => {\r\n  console.log('save form', model.state, model.user, state)\r\n  if (model.state.route == 'groups') {\r\n    if (model.state.group.id) {\r\n      return updateGroup(model.state.group.id, state.data.name).fork(\r\n        onError(state),\r\n        onSaveGroupSuccess(state)(model)\r\n      )\r\n    } else {\r\n      return saveGroup(state.data.name)\r\n        .chain(assocUserToGroup(model.user.objectId))\r\n        .fork(onError(state), onSaveGroupSuccess(state)(model))\r\n    }\r\n  }\r\n  if (model.state.route == 'events') {\r\n    console.log('state in events', state)\r\n  }\r\n  if (model.state.route == 'editGroup') {\r\n    // return editGroup(model)(state).fork(onError(state), onSaveSuccess(model))\r\n  }\r\n  if (model.state.route == 'editEvent') {\r\n    // return editEvent(model)(state).fork(onError(state), onSaveSuccess(model))\r\n  }\r\n  return state\r\n}\r\n\r\nconst getForm = {\r\n  group: groupForm,\r\n  event: eventForm,\r\n}\r\n\r\nexport const Editor = {\r\n  oninit: ({ attrs: { model, page }, state }) => {\r\n    state.form = getForm[page]\r\n    state.data = {}\r\n    console.log('page', page, state)\r\n    state.userId = model.user.id\r\n    if (model.state.group.id) {\r\n      console.log('id', model.state.group.id)\r\n      state.data.name = model.state.group.name\r\n    } else {\r\n      console.log('no id')\r\n    }\r\n    return state\r\n  },\r\n  view: ({ attrs: { model }, state }) => {\r\n    // console.log('Editor', state, model)\r\n    return m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          model.error = null\r\n          e.preventDefault()\r\n          validateData(state.data) ? saveForm(model)(state) : ''\r\n        },\r\n      },\r\n      state.form(state),\r\n      state.error ? m('p.error', state.error) : '',\r\n      m(\r\n        'button[type=submit]',\r\n        {\r\n          class: model.state.isLoading ? 'submitting' : 'submit',\r\n        },\r\n        model.state.isLoading ? 'Submitting' : 'Submit'\r\n      )\r\n    )\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\nimport { format } from 'date-fns'\r\n\r\nexport const groupForm = (state) => [\r\n  m('fieldset.fieldset', [\r\n    m('legend', 'Create Group'),\r\n    m('.fields', [\r\n      m('label', { for: 'name' }, 'name'),\r\n      m('input', {\r\n        type: 'text',\r\n        id: 'name',\r\n        name: 'name',\r\n        value: state.data.name,\r\n        onchange: (e) => {\r\n          state.data.name = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    state.errors ? m('p.error', state.errors[0]) : '',\r\n  ]),\r\n]\r\n\r\nexport const eventForm = (state) => [\r\n  m('fieldset.fieldset', [\r\n    m('legend', 'Create Event'),\r\n    m('.fields', [\r\n      m('label', { for: 'title' }, 'title'),\r\n      m('input', {\r\n        type: 'text',\r\n        id: 'title',\r\n        name: 'title',\r\n        onchange: (e) => {\r\n          state.data.title = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'description' }, 'description'),\r\n      m('input', {\r\n        type: 'textarea',\r\n        id: 'description',\r\n        name: 'description',\r\n        onchange: (e) => {\r\n          state.data.description = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'location' }, 'location'),\r\n      m('input', {\r\n        type: 'textarea',\r\n        id: 'location',\r\n        name: 'location',\r\n        onchange: (e) => {\r\n          state.data.location = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'date' }, 'date'),\r\n      m('input', {\r\n        type: 'date',\r\n        id: 'date',\r\n        name: 'date',\r\n        onchange: (e) => {\r\n          state.data.date = format(e.target.value, 'GG')\r\n        },\r\n      }),\r\n    ]),\r\n    state.errors ? m('p.error', state.errors[0]) : '',\r\n  ]),\r\n]\r\n","import http from '../http.js'\r\nimport { compose } from 'ramda'\r\n\r\nconst getGroup = (dto) =>\r\n  http.getTask(`data/Groups?${dto}&loadRelations=members`)\r\n\r\nconst toDto = (id) => encodeURI(`where=members.objectId = '${id}'`)\r\n\r\nexport const findGroups = compose(\r\n  getGroup,\r\n  toDto\r\n)\r\n","import m from 'mithril'\r\nimport { Group } from './Group/component.js'\r\nimport Modal from '../components/Modal.js'\r\nimport { BtnClose } from '../components/Btns.js'\r\nimport { Editor } from '../Editor/component.js'\r\nimport { findGroups } from './model.js'\r\n\r\nconst toggleModal = (state) => {\r\n  state.showModal = !state.showModal\r\n}\r\nconst onInitError = (state) => (errors) => (state.errors = errors)\r\n\r\nconst onInitSuccess = (state) => (groups) => {\r\n  state.groups = groups\r\n}\r\n\r\nexport const Groups = {\r\n  showModal: false,\r\n  oninit: ({ dom, state, attrs: { model } }) => {\r\n    model.emitter.on('toggle-group', () => toggleModal(state), dom)\r\n    model.emitter.on(\r\n      'fetch-groups',\r\n      () =>\r\n        findGroups(model.user.objectId).fork(\r\n          onInitError(state),\r\n          onInitSuccess(state)\r\n        ),\r\n      dom\r\n    )\r\n  },\r\n  oncreate: ({ attrs: { model } }) => model.emitter.emit('fetch-groups'),\r\n  view: ({ attrs: { model }, state }) => [\r\n    m(\r\n      '.groups',\r\n      state.groups\r\n        ? state.groups.map((g, id) =>\r\n          m(Group, { model, g, key: id }, `id: ${id}`)\r\n        )\r\n        : 'add a group'\r\n    ),\r\n    state.showModal\r\n      ? m(\r\n        Modal,\r\n        m('.modal-content', [\r\n          m(Editor, { model, page: 'group', id: model.state.group.id }),\r\n          m(BtnClose, {\r\n            action: () => {\r\n              model.state.group.id = ''\r\n              model.emitter.emit('toggle-group')\r\n            },\r\n            label: 'Close',\r\n          }),\r\n        ])\r\n      )\r\n      : '',\r\n  ],\r\n  onremove: ({ dom, attrs: { model } }) =>\r\n    model.emitter.removeListener('toggle-group', toggleModal, dom),\r\n}\r\n","import m from 'mithril'\r\n// import http from '../../http.js'\r\n// import { format } from 'date-fns'\r\n\r\nconst updateInviteResponse = (model) => (key) => (rsvp) => {\r\n  model, key, rsvp\r\n}\r\n// updateInviteWithResponse(model)(key)(rsvp)\r\n\r\nconst rsvps = ['Yes', 'No', 'Maybe']\r\n\r\n// const onLoadS = (state) => ({\r\n//   Invitation: {\r\n//     response,\r\n//     partySize,\r\n//     event: {\r\n//       id,\r\n//       title,\r\n//       date,\r\n//       hostedBy: { email },\r\n//     },\r\n//   },\r\n// }) => {\r\n//   state.invite = {\r\n//     response,\r\n//     partySize,\r\n//     title,\r\n//     date: format(date, 'MM-DD-YYYY'),\r\n//     email,\r\n//     eventId: id,\r\n//   }\r\n//   return state\r\n// }\r\n\r\n// const onLoadE = (state) => (err) => {\r\n//   state.err = err\r\n//   console.log('fail', state)\r\n// }\r\n\r\nexport const Invite = {\r\n  oninit: ({ attrs: { key, model }, state }) => {\r\n    console.log(key, model, state)\r\n  },\r\n  // getInvite(model)(key).fork(onLoadE(state), onLoadS(state)),\r\n  view: ({ attrs: { key, model }, state }) => {\r\n    return state.invite\r\n      ? m('.invite', [\r\n        m('p.title', state.invite.title),\r\n        m('p.email', state.invite.email),\r\n        m('p.date', state.invite.date),\r\n        m(\r\n          '.rsvps',\r\n          rsvps.map((rsvp) =>\r\n            m(\r\n              `button.button${\r\n                state.invite.response == rsvp ? '.isSelected' : ''\r\n              }`,\r\n              {\r\n                onclick: () => {\r\n                  state.invite.response = rsvp\r\n                  updateInviteResponse(model)(key)(rsvp)\r\n                },\r\n              },\r\n              rsvp\r\n            )\r\n          )\r\n        ),\r\n        m('p.partySize', state.invite.partySize),\r\n      ])\r\n      : ''\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\n// import http from '../http.js'\r\n\r\nimport { Invite } from './Invite/component.js'\r\n\r\n// const onLoadSuccess = (state) => ({ allInvitations }) =>\r\n//   (state.invites = allInvitations)\r\n\r\n// const onLoadError = (state) => (err) => {\r\n//   state.error = err\r\n//   console.log('fail', state)\r\n// }\r\n\r\nexport const Invites = {\r\n  oninit: ({ attrs: { model }, state }) => {\r\n    state.invites = []\r\n    state.errors = {}\r\n    console.log(model)\r\n    // findGroupInvites(model).fork(onLoadError(state), onLoadSuccess(state))\r\n  },\r\n  view: ({ attrs: { model }, state }) => {\r\n    console.log('state', state)\r\n    return m(\r\n      '.attendaces',\r\n      state.invites.map(({ id }) => m(Invite, { model, key: id }, `id: ${id}`))\r\n    )\r\n  },\r\n}\r\n","import m from 'mithril'\r\nimport http from '../http.js'\r\nimport { App } from '../App.js'\r\n\r\nexport const validateData = ({ email, password }) =>\r\n  email ? (password ? true : false) : false\r\n\r\nexport const authenticated = (model) => (route) =>\r\n  m.route(document.body, route, App(model))\r\n\r\nexport const loginUser = (data) => {\r\n  let dto = {\r\n    login: data.email,\r\n    password: data.password,\r\n  }\r\n\r\n  return http.postTask('users/login')({ dto })\r\n}\r\nexport const registerUser = (dto) => http.postTask('users/register')({ dto })\r\n","import m from 'mithril'\r\n\r\nimport {\r\n  validateData,\r\n  authenticated,\r\n  loginUser,\r\n  registerUser,\r\n} from './model.js'\r\n\r\nimport { makeRoute } from '../utils/index.js'\r\n\r\nconst onSuccess = (state) => (model) => (user) => {\r\n  window.sessionStorage.setItem('user-token', user['user-token'])\r\n  model.user = user\r\n  state.errors = null\r\n  authenticated(model)(`/${makeRoute(model.user.name)}/groups`)\r\n}\r\n\r\nconst onError = (state) => ({ message }) => {\r\n  state.errors = message\r\n  console.log(state)\r\n  return state\r\n}\r\n\r\nconst logUserIn = (model) => (state) =>\r\n  loginUser(state).fork(onError(state), onSuccess(state)(model))\r\n\r\nconst regUser = (model) => (dto) =>\r\n  registerUser(dto)\r\n    .chain(() => loginUser(dto))\r\n    .fork(onError(dto), onSuccess(dto)(model))\r\n\r\nconst Login = {\r\n  view: ({ attrs: { model }, state }) =>\r\n    m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          state.errors = null\r\n          e.preventDefault()\r\n          validateData(state) ? logUserIn(model)(state) : ''\r\n        },\r\n      },\r\n      [\r\n        m('fieldset.fieldset', [\r\n          m('legend', 'Login'),\r\n          m('.fields', [\r\n            m('label', { for: 'email' }, 'email'),\r\n            m('input', {\r\n              type: 'email',\r\n              id: 'email',\r\n              name: 'login',\r\n              onchange: (e) => (state.email = e.target.value),\r\n            }),\r\n            m('label', { for: 'password' }, 'Password'),\r\n            m('input', {\r\n              type: 'password',\r\n              id: 'password',\r\n              name: 'login',\r\n              onchange: (e) => (state.password = e.target.value),\r\n            }),\r\n          ]),\r\n          m(\r\n            'button[type=submit]',\r\n            {\r\n              class: model.state.isLoading ? 'submitting' : 'submit',\r\n            },\r\n            model.state.isLoading ? 'Submitting' : 'Submit'\r\n          ),\r\n          state.errors ? m('p.error', state.errors) : '',\r\n        ]),\r\n        m(\r\n          'a',\r\n          {\r\n            oncreate: m.route.link,\r\n            href: '/register',\r\n          },\r\n          'register'\r\n        ),\r\n      ]\r\n    ),\r\n}\r\n\r\nconst Register = {\r\n  view: ({ attrs: { model }, state }) =>\r\n    m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          state.errors = null\r\n          e.preventDefault()\r\n          validateData(state) ? regUser(model)(state) : ''\r\n        },\r\n      },\r\n      [\r\n        m('fieldset.fieldset', [\r\n          m('legend', 'register'),\r\n          m('.fields', [\r\n            m('label', { for: 'email' }, 'email'),\r\n            m('input', {\r\n              type: 'email',\r\n              id: 'email',\r\n              name: 'register',\r\n              onchange: (e) => (state.email = e.target.value),\r\n            }),\r\n            m('label', { for: 'name' }, 'name'),\r\n            m('input', {\r\n              type: 'text',\r\n              id: 'name',\r\n              name: 'register',\r\n              onchange: (e) => (state.name = e.target.value),\r\n            }),\r\n            m('label', { for: 'password' }, 'Password'),\r\n            m('input', {\r\n              type: 'password',\r\n              id: 'password',\r\n              name: 'register',\r\n              onchange: (e) => (state.password = e.target.value),\r\n            }),\r\n          ]),\r\n          m(\r\n            'button[type=submit]',\r\n            { class: model.state.isLoading ? 'submitting' : 'submit' },\r\n            model.state.isLoading ? 'Submitting' : 'Submit'\r\n          ),\r\n          state.errors ? m('p.error', state.errors) : '',\r\n        ]),\r\n        m(\r\n          'a',\r\n          {\r\n            oncreate: m.route.link,\r\n            href: '/login',\r\n          },\r\n          'login'\r\n        ),\r\n      ]\r\n    ),\r\n}\r\n\r\nexport { Login, Register }\r\n","import m from 'mithril'\r\nimport Layout from './components/Layout.js'\r\nimport { Login, Register } from './Login/component'\r\n\r\nconst LoginPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Login, { model })),\r\n}\r\n\r\nconst RegisterPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Register, { model })),\r\n}\r\n\r\nexport const UnAuthenticated = (model) => ({\r\n  '/login': {\r\n    onmatch: () => {\r\n      model.state.route = 'login'\r\n    },\r\n    render: () => m(Layout, { model }, m(LoginPage, { model })),\r\n  },\r\n  '/register': {\r\n    onmatch: () => {\r\n      model.state.route = 'register'\r\n    },\r\n    render: () => m(Layout, { model }, m(RegisterPage, { model })),\r\n  },\r\n})\r\n","import m from 'mithril'\r\n\r\nimport Layout from './components/Layout.js'\r\nimport { Groups } from './Groups/component'\r\nimport { Invites } from './Invites/component'\r\nimport { Editor } from './Editor/component'\r\nimport { UnAuthenticated } from './UnAuthenticated.js'\r\nimport { checkAuth } from './auth.js'\r\n\r\nconst GroupsPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Groups, { model })),\r\n}\r\n\r\nconst EventsPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Invites, { model })),\r\n}\r\n\r\nconst EditorPage = {\r\n  view: ({ attrs: { model, page, id } }) =>\r\n    m('.component', m(Editor, { model, page, id })),\r\n}\r\n\r\nexport const App = (model) => ({\r\n  '/:username/groups': {\r\n    onmatch: () => {\r\n      model.state.route = 'groups'\r\n      checkAuth(model)\r\n    },\r\n    render: () => m(Layout, { model }, m(GroupsPage, { model })),\r\n  },\r\n  '/:username/:group/events': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route = 'events'\r\n      checkAuth(model)\r\n    },\r\n    render: () => m(Layout, { model }, m(EventsPage, { model })),\r\n  },\r\n  '/:username/:group/new-event': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route = 'newEvent'\r\n      checkAuth(model)\r\n    },\r\n    render: () =>\r\n      m(Layout, { model }, m(EditorPage, { model, page: 'event', id: null })),\r\n  },\r\n  '/:username/:group/edit/:event': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route = 'editEvent'\r\n      checkAuth(model)\r\n    },\r\n    render: () =>\r\n      m(\r\n        Layout,\r\n        { model },\r\n        m(EditorPage, { model, page: 'event', id: 'eventID' })\r\n      ),\r\n  },\r\n  '/logout': {\r\n    onmatch: () => {\r\n      model.user = {}\r\n      checkAuth(model)\r\n    },\r\n    render: () => m.route(document.body, '/login', UnAuthenticated(model)),\r\n  },\r\n})\r\n","const root = document.body\r\nimport m from 'mithril'\r\nimport { model } from './Model.js'\r\nimport { checkAuth } from './auth.js'\r\nimport { App } from './App.js'\r\nimport { makeRoute } from './utils/index.js'\r\nimport { UnAuthenticated } from './UnAuthenticated.js'\r\n\r\nif (module.hot) {\r\n  module.hot.accept()\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!')\r\n}\r\n\r\n// Styles\r\nimport './index.css'\r\nimport './assets/animations.css'\r\nimport './assets/loader.css'\r\n\r\nfunction getProfile(w) {\r\n  if (w < 668) return 'phone'\r\n  if (w < 920) return 'tablet'\r\n  return 'desktop'\r\n}\r\n\r\nlet winW = window.innerWidth\r\nmodel.state.profile = getProfile(winW)\r\n\r\nfunction checkWidth() {\r\n  const w = window.innerWidth\r\n  if (winW !== w) {\r\n    winW = w\r\n    var lastProfile = model.state.profile\r\n    model.state.profile = getProfile(w)\r\n    if (lastProfile != model.state.profile) m.redraw()\r\n  }\r\n  requestAnimationFrame(checkWidth)\r\n}\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker\r\n      .register('./service-worker.js')\r\n      .then((registration) => {\r\n        console.log('🧟 SW registered: ', registration)\r\n      })\r\n      .catch((registrationError) => {\r\n        console.log('⚙️ SW registration failed: ', registrationError)\r\n      })\r\n  })\r\n}\r\n\r\ncheckWidth()\r\n\r\ncheckAuth(model)\r\n  ? m.route(document.body, `/${makeRoute(model.user.name)}/groups`, App(model))\r\n  : m.route(root, '/login', UnAuthenticated(model))\r\n"],"sourceRoot":""}