{"version":3,"sources":["webpack:///./secrets.js","webpack:///./http.js","webpack:///./Model.js","webpack:///./components/Hamburger.js","webpack:///./assets/animations.js","webpack:///./utils/index.js","webpack:///./components/Btns.js","webpack:///./components/Header.js","webpack:///./components/Footer.js","webpack:///./components/NavBar.js","webpack:///./components/Menu.js","webpack:///./components/Body.js","webpack:///./components/Layout.js","webpack:///./Groups/Group/component.js","webpack:///./components/Modal.js","webpack:///./Editor/model.js","webpack:///./Editor/component.js","webpack:///./Editor/forms/index.js","webpack:///./Groups/model.js","webpack:///./Groups/component.js","webpack:///./Invites/Invite/component.js","webpack:///./Invites/component.js","webpack:///./Login/model.js","webpack:///./Login/component.js","webpack:///./UnAuthenticated.js","webpack:///./auth.js","webpack:///./App.js","webpack:///./index.js"],"names":["__webpack_require__","d","__webpack_exports__","API_KEY","APP_ID","baseUrl","m","data_task__WEBPACK_IMPORTED_MODULE_0__","data_task__WEBPACK_IMPORTED_MODULE_0___default","n","_secrets_js__WEBPACK_IMPORTED_MODULE_1__","parseHttpError","model","rej","Error","state","isLoading","response","parseHttpSuccess","res","data","getUserToken","window","sessionStorage","getItem","http","postQl","query","Task","request","method","withCredentials","string","JSON","parse","stringify","headers","Authorization","concat","token","cache-control","x-apikey","content-type","then","_ref","errors","Promise","reject","resolve","parseQLResponse","postTask","url","_ref2","dto","user-token","getTask","putTask","_ref3","deleteTask","id","Stream","profile","tabsShowing","modalShowing","route","group","name","event","toggleDict","groups-modal","pages","user","objectId","showTabs","getState","ctx","toggleState","Hamburger","attrs","render","dom","xmlns","oncreate","onupdate","view","_ref4","style","fill","onclick","animateSidebarEntrance","opacity","classList","toggle","animateChildrenLimitsEntrance","idx","setTimeout","animate","dir","_ref5","makeRoute","compose","join","split","trim","toLower","Btn","_ref$attrs","action","label","BtnClose","_ref2$attrs","actionsAt","groups","landing","login","register","home","events","set","newGroup","newEvent","username","Actions","Header","Footer","Tab","key","tab","href","link","Sidebar","tabs","map","active","Menu","onbeforeremove","_ref6","remove","add","children","Body","Layout","Group","reload","_ref$attrs$g","g","members","length","console","log","deleteGroup","fork","warn","onError","onSuccess","Modal","ModalContainer","v","document","createElement","className","body","appendChild","mount","onbeforeupdate","r","addEventListener","onremove","removeChild","toDto","message","error","onSaveGroupSuccess","saveForm","updateGroup","saveGroup","chain","userId","assocUserToGroup","getForm","for","type","value","onchange","e","target","title","description","location","date","format","Editor","oninit","page","form","_ref3$attrs","onsubmit","preventDefault","class","encodeURI","findGroups","getGroup","Groups","onInitError","onInitSuccess","rsvps","Invite","invite","email","rsvp","partySize","Invites","invites","validateData","password","loginUser","setItem","App","authenticated","regUser","registerUser","Login","logUserIn","Register","LoginPage","RegisterPage","UnAuthenticated","/login","onmatch","/register","checkAuth","userLogedIn","GroupsPage","EventsPage","EditorPage","/:username/groups","/:username/:group/events","args","path","/:username/:group/new-event","/:username/:group/edit/:event","/logout","root","getProfile","w","winW","innerWidth","navigator","serviceWorker","registration","catch","registrationError","checkWidth","lastProfile","redraw","requestAnimationFrame"],"mappings":"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","file":"main-65469e85ef708da0f60f-chunk.js","sourcesContent":["export const TOKEN =\r\n  'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1NTUyODM4NTksIm5iZiI6MTU1NTI4Mzg1OSwiZXhwIjoxNTU1MzcwMjU5fQ.jwZa642QeexFDfAA2nUcZe5QXqTf6PtMSSAGY9Bw5Es'\r\n\r\nexport const prismaUrl = 'https://us1.prisma.sh/boaz-blake-8951e1/shindigit/dev'\r\nexport const restDbUrl = 'https://mithril-ae5c.restdb.io/rest/'\r\n// GITHUB\r\nexport const GITHUB_CLIENT_ID = 'dee0eca430c29232f457'\r\nexport const GITHUB_CLIENT_SECRET = 'b659022d58d1c4618afc81585a0d532db3e7d43a'\r\n\r\n//backendless\r\nexport const API_KEY = '3AA68F17-E271-EE57-FF46-EB6E95626600'\r\nexport const APP_ID = '72F4AE0D-0876-A16A-FF0F-A2D7A65AE300'\r\n//URL\r\nexport const baseUrl = 'https://api.backendless.com'\r\n\r\n//RESTDB\r\nexport const REST_CLIENT_ID = 'wly12TyM6CBy5rA90BfNTbh14dgN9KyZ'\r\nexport const REST_CLIENT_SECRET =\r\n  'ebaYxkz-HK10ebILuY1YjK2sb6Iy3GET7NPjKlz9G0vsd2D0z6SMlY7sylUgkb57'\r\n","import Task from 'data.task'\r\nimport { baseUrl, APP_ID, API_KEY } from './secrets.js'\r\n\r\nconst makeQuery = (string) => JSON.parse(JSON.stringify(string))\r\n\r\nconst parseQLResponse = (model) => ({ data, errors }) => {\r\n  model.state.isLoading(false)\r\n  return errors ? Promise.reject(errors) : Promise.resolve(data)\r\n}\r\n\r\nexport const parseHttpError = (model) => (rej) => (Error) => {\r\n  model.state.isLoading(false)\r\n  return rej(Error.response)\r\n}\r\n\r\nexport const parseHttpSuccess = (model) => (res) => (data) => {\r\n  model.state.isLoading(false)\r\n  return res(data)\r\n}\r\n\r\nconst getUserToken = () =>\r\n  window.sessionStorage.getItem('user-token')\r\n    ? window.sessionStorage.getItem('user-token')\r\n    : ''\r\n\r\nconst postQl = (model) => (query) => {\r\n  model.state.isLoading(true)\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'POST',\r\n        // url: graphQl,\r\n        withCredentials: false,\r\n        data: makeQuery(query),\r\n        headers: {\r\n          Authorization: `Bearer ${model.state.token}`,\r\n          'cache-control': 'no-cache',\r\n          'x-apikey': '64fecd3f0cbb54d46d7f7260b86b8ad45d31b',\r\n          'content-type': 'application/json',\r\n        },\r\n      })\r\n      .then(parseQLResponse(model))\r\n      .then(parseHttpSuccess(model)(res), parseHttpError(model)(rej))\r\n  )\r\n}\r\n\r\nconst postTask = (model) => (url) => ({ dto }) => {\r\n  model.state.isLoading(true)\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'POST',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}`,\r\n        data: dto,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(parseHttpSuccess(model)(res), parseHttpError(model)(rej))\r\n  )\r\n}\r\n\r\nconst putTask = (model) => (url) => ({ dto }) => {\r\n  model.state.isLoading(true)\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'PUT',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}`,\r\n        data: dto,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(parseHttpSuccess(model)(res), parseHttpError(model)(rej))\r\n  )\r\n}\r\n\r\nconst getTask = (model) => (url) => {\r\n  model.state.isLoading(true)\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'GET',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}`,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(parseHttpSuccess(model)(res), parseHttpError(model)(rej))\r\n  )\r\n}\r\nconst deleteTask = (model) => (url) => (id) => {\r\n  model.state.isLoading(true)\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'DELETE',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}/${id}`,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(parseHttpSuccess(model)(res), parseHttpError(model)(rej))\r\n  )\r\n}\r\nconst http = { postQl, postTask, getTask, putTask, deleteTask }\r\n\r\nexport default http\r\n","import Stream from 'mithril-stream'\r\n\r\nconst pages = ['login', 'logout', 'createEvent', '']\r\n\r\nconst state = {\r\n  isLoading: Stream(false),\r\n  profile: '',\r\n  tabsShowing: false,\r\n  modalShowing: false,\r\n  route: Stream(''),\r\n  group: { id: '', name: '' },\r\n  event: { id: '', name: '' },\r\n}\r\n\r\nconst toggleDict = {\r\n  'groups-modal': Stream(false),\r\n}\r\n\r\nconst user = { objectId: '', name: '' }\r\n\r\nconst errors = null\r\n\r\nconst showTabs = (model) => (model.state.tabsShowing = !model.state.tabsShowing)\r\n\r\nexport const model = {\r\n  pages,\r\n  user,\r\n  state,\r\n  showTabs,\r\n  errors,\r\n  getState: (ctx) => toggleDict[ctx](),\r\n  toggleState: (ctx) => toggleDict[ctx](!toggleDict[ctx]()),\r\n}\r\n","import m from 'mithril'\r\n\r\nconst Hamburger = ({ attrs: { model } }) => {\r\n  const state = {\r\n    close:\r\n      'M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z',\r\n    open: 'M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z',\r\n  }\r\n\r\n  const render = dom =>{\r\n    return m.render(\r\n      dom,\r\n      m('path', {\r\n        xmlns: 'http://www.w3.org/2000/svg',\r\n        d: model.state.tabsShowing ? state.close : state.open,\r\n      })\r\n    )}\r\n\r\n  return {\r\n    oncreate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    onupdate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    view: ({ attrs: { model } }) =>\r\n      m('svg.btn.hamburger', {\r\n        style:{fill: model.state.tabsShowing? 'white': 'inherit'},\r\n        onclick: () => model.showTabs(model),\r\n      }),\r\n  }\r\n}\r\n\r\nexport default Hamburger\r\n","export const animateComponentEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  return setTimeout(() => {\r\n    dom.classList.toggle('stretchRight')\r\n    dom.style.opacity = 1\r\n  }, idx * 100 + 20)\r\n}\r\n\r\nexport const animateSidebarEntrance = ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  dom.classList.toggle('slideRight')\r\n  dom.style.opacity = 1\r\n}\r\n\r\nexport const animateChildrenEntrance = ({ dom }) => {\r\n  let children = [...dom.children]\r\n\r\n  return children.map((child, idx) => {\r\n    child.style.opacity = 0\r\n    setTimeout(() => {\r\n      child.classList.toggle('slideRight')\r\n      child.style.opacity = 1\r\n    }, (idx + 1) * 10)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle('slideDown')\r\n    dom.style.opacity = 1\r\n  }, (idx + 1) * 200)\r\n}\r\n\r\nexport const animate = (dir) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle(dir)\r\n    dom.style.opacity = 1\r\n  }, 200)\r\n}\r\n\r\nexport const slideMenuOut = ({ dom }) => {\r\n  return new Promise(() => {\r\n    dom.classList.remove('slideRight')\r\n    return setTimeout(() => {\r\n      dom.classList.add('reverseAnimation', 'slideRight')\r\n    }, 200)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsExit = ({ dom }) =>\r\n  new Promise(() => {\r\n    [...dom.children].reverse().map((child, idx) => {\r\n      return setTimeout(() => {\r\n        child.style.display = 'none'\r\n      }, idx * 100)\r\n    })\r\n  })\r\n","import { compose, join, split, trim, toLower } from 'ramda'\r\n\r\nexport const makeRoute = compose(\r\n  join('-'),\r\n  split(' '),\r\n  trim(),\r\n  toLower()\r\n)\r\n\r\nexport const log = (m) => (v) => {\r\n  console.log(m, v)\r\n  return v\r\n}\r\n\r\n// function scrollToAnchor(anchorName) {\r\n//   let is = (el) => {\r\n//     return el !== undefined && el !== null\r\n//   }\r\n//   //if you pass an undefined anchor it will scroll to the top of the body\r\n//   let targetEl = is(anchor)\r\n//     ? document.querySelector('a[name=' + anchor + ']')\r\n//     : document.body\r\n//   let scrollTop = window.pageYOffset || document.documentElement.scrollTop\r\n//   let target = is(targetEl) ? targetEl.getBoundingClientRect().top : 0\r\n//   window.scroll({\r\n//     top: target + scrollTop - 70,\r\n//     left: 0,\r\n//     behavior: 'smooth',\r\n//   })\r\n// }\r\n\r\n// onclick: (e) => {\r\n//   let anchor = \"contact-me\";\r\n//   m.route.set(\"/home\", { \"a\": anchor });\r\n//   scrollToAnchor(anchor);\r\n// }\r\n// https://dev.to/weirdmayo/anchor-links-in-mithriljs-277l\r\n","import m from 'mithril'\r\n\r\nexport const Btn = {\r\n  view: ({ attrs: { action, label } }) => [\r\n    m(\r\n      'button.Btn',\r\n      {\r\n        onclick: () => action(),\r\n      },\r\n      label\r\n    ),\r\n  ],\r\n}\r\n\r\nexport const BtnClose = {\r\n  view: ({ attrs: { action, label } }) => [\r\n    m(\r\n      'button.btn-close',\r\n      {\r\n        onclick: () => action(),\r\n      },\r\n      label\r\n    ),\r\n  ],\r\n}\r\n","import m from 'mithril'\r\nimport Hamburger from './Hamburger.js'\r\nimport { animate } from '../assets/index.js'\r\nimport { makeRoute } from '../utils/index.js'\r\nimport { Btn } from './Btns.js'\r\n\r\nconst actionsAt = {\r\n  groups: (model) => [\r\n    m(Btn, {\r\n      action: () => model.toggleState('groups-modal'),\r\n      label: 'Add Group',\r\n    }),\r\n  ],\r\n  landing: () => ['LANDING PAGE'],\r\n  login: () => ['Log in'],\r\n  register: () => ['Register'],\r\n  home: () => ['LANDING PAGE'],\r\n  events: (model) => [\r\n    m(Btn, {\r\n      action: () => m.route.set(`/${makeRoute(model.user.name)}/groups`),\r\n      label: 'Back to Groups',\r\n    }),\r\n    m(Btn, {\r\n      action: () =>\r\n        m.route.set(\r\n          `/${makeRoute(model.user.name)}/${makeRoute(\r\n            model.state.group.name\r\n          )}/new-event`\r\n        ),\r\n      label: 'Add Event',\r\n    }),\r\n  ],\r\n  newGroup: (model) => [\r\n    m(Btn, {\r\n      action: () => m.route.set(`/${makeRoute(model.user.name)}/groups`),\r\n      label: 'Back to Groups',\r\n    }),\r\n  ],\r\n  newEvent: (model) => [\r\n    m(Btn, {\r\n      action: () =>\r\n        m.route.set(\r\n          `/${model.user.username}/groups${makeRoute(model.state.group.name)}`\r\n        ),\r\n      label: 'Back to Group',\r\n    }),\r\n  ],\r\n}\r\n\r\nconst Actions = {\r\n  view: ({ attrs: { model } }) =>\r\n    m('.actions', actionsAt[model.state.route()](model)),\r\n}\r\n\r\nconst Header = {\r\n  oncreate: animate('slideDown'),\r\n  view: ({ attrs: { model } }) =>\r\n    m(\r\n      'header.header',\r\n      {\r\n        id: 'header',\r\n      },\r\n      [m(Hamburger, { model }), m(Actions, { model })]\r\n    ),\r\n}\r\n\r\nexport default Header\r\n","import m from 'mithril'\r\nimport { animate, animateChildrenLimitsEntrance } from '../assets/index.js'\r\n\r\n\r\nconst Footer = {\r\n  oncreate: animate('slideUp'),\r\n  view: () => m('footer.footer', {\r\n    oncreate:animateChildrenLimitsEntrance, id: 'footer',\r\n  },\r\n  'by Boaz Blake',\r\n  ),\r\n}\r\n\r\nexport default Footer\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance } from '../assets/index.js'\r\n\r\nconst Tab = ({ attrs: { key } }) => {\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { tab } }) =>\r\n      m(\r\n        'a.tab',\r\n        {\r\n          key,\r\n          id: `${tab}`,\r\n          href: `${tab}`,\r\n          oncreate: m.route.link,\r\n        },\r\n        tab\r\n      ),\r\n  }\r\n}\r\n\r\nconst Sidebar = ({ attrs: { model } }) => {\r\n  let tabs = model.pages\r\n\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { model } }) =>\r\n      m(\r\n        'aside.sidebar slide-left',\r\n        {\r\n          id: 'sidebar',\r\n        },\r\n        tabs.map((tab, idx) =>\r\n          m(Tab, {\r\n            key: idx,\r\n            active: model.state.route() == tab,\r\n            tab,\r\n          })\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Sidebar\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance, slideMenuOut } from '../assets/index.js'\r\n\r\nconst Menu = {\r\n  oncreate: animateSidebarEntrance,\r\n  onbeforeremove: slideMenuOut,\r\n  view: ({ children }) => m('.navigationMenu', children),\r\n}\r\n\r\nexport default Menu\r\n","import m from 'mithril'\r\n\r\nconst Body = {\r\n  view: ({attrs:{ children }}) => m('section.content', { id: 'content' }, children),\r\n}\r\n\r\nexport default Body\r\n","import m from 'mithril'\r\nimport Header from './Header.js'\r\nimport Footer from './Footer.js'\r\nimport Sidebar from './NavBar.js'\r\nimport Menu from './Menu.js'\r\nimport Body from './Body.js'\r\n\r\nconst Layout = ({ attrs: { model } }) => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\r\n        'section.layout',\r\n        {\r\n          id: 'layout',\r\n        },\r\n        children\r\n          ? [\r\n            m(Header, { model }),\r\n            model.state.profile == 'phone'\r\n              ? model.state.tabsShowing\r\n                ? m(Menu, m(Sidebar, { model }))\r\n                : null\r\n              : m(Sidebar, { model }),\r\n            m(Body, { model, children }),\r\n            m(Footer, { model }),\r\n          ]\r\n          : []\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","import m from 'mithril'\r\n\r\nimport { makeRoute } from '../../utils/index.js'\r\nimport http from '../../http.js'\r\n\r\nconst deleteGroup = (model) => (id) => http.deleteTask(model)('data/groups')(id)\r\n\r\nconst onError = (model) => (errors) => {\r\n  console.warn('errors', errors, model)\r\n}\r\n\r\nconst onSuccess = (reload) => (res) => {\r\n  console.log('success', res)\r\n  reload()\r\n}\r\n\r\nexport const Group = {\r\n  view: ({\r\n    attrs: {\r\n      reload,\r\n      model,\r\n      g: { objectId, name, members },\r\n    },\r\n  }) => {\r\n    return m('.group', [\r\n      m(\r\n        'button.btn',\r\n        {\r\n          onclick: () =>\r\n            m.route.set(\r\n              `/${makeRoute(model.user.name)}/${makeRoute(name)}/events`\r\n            ),\r\n        },\r\n        m('p.title', name)\r\n      ),\r\n      m(\r\n        'button.btn',\r\n        {\r\n          onclick: () => {\r\n            model.state.group.id = objectId\r\n            model.state.group.name = name\r\n            model.toggleState('groups-modal')\r\n          },\r\n        },\r\n        m('p.title', 'Edit')\r\n      ),\r\n      m('p.groupSize', members.length),\r\n      m('button.btn-delete', {\r\n        onclick: () => {\r\n          console.log('reload', reload)\r\n          deleteGroup(model)(objectId).fork(onError(model), onSuccess(reload))\r\n        },\r\n      }),\r\n    ])\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\nconst Modal = function() {\r\n  let dom\r\n  let children\r\n\r\n  // Container component we mount to a root-level DOM node\r\n  const ModalContainer = {\r\n    view: () => children,\r\n  }\r\n\r\n  return {\r\n    oncreate(v) {\r\n      children = v.children\r\n      // Append a modal container to the end of body\r\n      dom = document.createElement('div')\r\n      // The modal class has a fade-in animation\r\n      dom.className = 'modal'\r\n      document.body.appendChild(dom)\r\n      // Mount a separate VDOM tree here\r\n      m.mount(dom, ModalContainer)\r\n    },\r\n    onbeforeupdate(v) {\r\n      children = v.children\r\n    },\r\n    onbeforeremove: () => {\r\n      // Add a class with fade-out exit animation\r\n      dom.classList.add('hide')\r\n      return new Promise((r) => {\r\n        dom.addEventListener('animationend', r)\r\n      })\r\n    },\r\n    onremove() {\r\n      // Destroy the modal dom tree. Using m.mount with\r\n      // null triggers any modal children removal hooks.\r\n      m.mount(dom, null)\r\n      document.body.removeChild(dom)\r\n    },\r\n    view() {},\r\n  }\r\n}\r\n\r\nexport default Modal\r\n","import http from '../http.js'\r\n\r\nconst toDto = (dto) => ({ dto })\r\n\r\nexport const getGroupData = (model) => (id) =>\r\n  http.getTask(model)(`/data/Groups/${id}`)\r\n\r\nexport const saveGroup = (model) => (name) =>\r\n  http.postTask(model)('data/Groups')(toDto({ name }))\r\nexport const updateGroup = (model) => (id, name) =>\r\n  http.putTask(model)(`data/Groups/${id}`)(toDto({ name }))\r\n\r\nexport const assocUserToGroup = (model) => (userId) => ({ objectId }) =>\r\n  http.putTask(model)(`data/Groups/${objectId}/members`)(toDto([userId]))\r\n","import m from 'mithril'\r\n\r\nimport { groupForm, eventForm } from './forms/index.js'\r\nimport { saveGroup, assocUserToGroup, updateGroup } from './model.js'\r\n\r\nconst onError = (state) => ({ message }) => {\r\n  state.error = message\r\n  console.error('error', state.error)\r\n}\r\n\r\nconst validateData = (data) => {\r\n  return data\r\n}\r\n\r\nconst onSaveGroupSuccess = (state) => (model) => (reload) => (data) => {\r\n  model.state.group.id = ''\r\n  model.state.group.name = ''\r\n  state.error = null\r\n  console.log('saved', model, data)\r\n  model.toggleState('groups-modal')\r\n  reload()\r\n}\r\n\r\nconst saveForm = (model) => (state) => (reload) => {\r\n  console.log('save form', model.state, model.user, state)\r\n  if (model.state.route() == 'groups') {\r\n    if (model.state.group.id) {\r\n      return updateGroup(model)(model.state.group.id, state.data.name).fork(\r\n        onError(state),\r\n        onSaveGroupSuccess(state)(model)(reload)\r\n      )\r\n    } else {\r\n      return saveGroup(model)(state.data.name)\r\n        .chain(assocUserToGroup(model)(model.user.objectId))\r\n        .fork(onError(state), onSaveGroupSuccess(state)(model)(reload))\r\n    }\r\n  }\r\n  if (model.state.route() == 'events') {\r\n    console.log('state in events', state)\r\n  }\r\n  if (model.state.route() == 'editGroup') {\r\n    // return editGroup(model)(state).fork(onError(state), onSaveSuccess(model))\r\n  }\r\n  if (model.state.route() == 'editEvent') {\r\n    // return editEvent(model)(state).fork(onError(state), onSaveSuccess(model))\r\n  }\r\n  return state\r\n}\r\n\r\nconst getForm = {\r\n  group: groupForm,\r\n  event: eventForm,\r\n}\r\n\r\nexport const Editor = {\r\n  oninit: ({ attrs: { model, page }, state }) => {\r\n    state.form = getForm[page]\r\n    state.data = {}\r\n    console.log('page', page, state)\r\n    state.userId = model.user.id\r\n    if (model.state.group.id) {\r\n      console.log('id', model.state.group.id)\r\n      state.data.name = model.state.group.name\r\n    } else {\r\n      console.log('no id')\r\n      state.data = {}\r\n    }\r\n    return state\r\n  },\r\n  view: ({ attrs: { model, reload }, state }) => {\r\n    // console.log('Editor', state, model)\r\n    return m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          model.error = null\r\n          e.preventDefault()\r\n          validateData(state.data) ? saveForm(model)(state)(reload) : ''\r\n        },\r\n      },\r\n      state.form(state),\r\n      state.error ? m('p.error', state.error) : '',\r\n      m(\r\n        'button[type=submit]',\r\n        {\r\n          class: model.state.isLoading() ? 'submitting' : 'submit',\r\n        },\r\n        model.state.isLoading() ? 'Submitting' : 'Submit'\r\n      )\r\n    )\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\nimport { format } from 'date-fns'\r\n\r\nexport const groupForm = (state) => [\r\n  m('fieldset.fieldset', [\r\n    m('legend', 'Create Group'),\r\n    m('.fields', [\r\n      m('label', { for: 'name' }, 'name'),\r\n      m('input', {\r\n        type: 'text',\r\n        id: 'name',\r\n        name: 'name',\r\n        value: state.data.name,\r\n        onchange: (e) => {\r\n          state.data.name = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    state.errors ? m('p.error', state.errors[0]) : '',\r\n  ]),\r\n]\r\n\r\nexport const eventForm = (state) => [\r\n  m('fieldset.fieldset', [\r\n    m('legend', 'Create Event'),\r\n    m('.fields', [\r\n      m('label', { for: 'title' }, 'title'),\r\n      m('input', {\r\n        type: 'text',\r\n        id: 'title',\r\n        name: 'title',\r\n        onchange: (e) => {\r\n          state.data.title = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'description' }, 'description'),\r\n      m('input', {\r\n        type: 'textarea',\r\n        id: 'description',\r\n        name: 'description',\r\n        onchange: (e) => {\r\n          state.data.description = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'location' }, 'location'),\r\n      m('input', {\r\n        type: 'textarea',\r\n        id: 'location',\r\n        name: 'location',\r\n        onchange: (e) => {\r\n          state.data.location = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'date' }, 'date'),\r\n      m('input', {\r\n        type: 'date',\r\n        id: 'date',\r\n        name: 'date',\r\n        onchange: (e) => {\r\n          state.data.date = format(e.target.value, 'GG')\r\n        },\r\n      }),\r\n    ]),\r\n    state.errors ? m('p.error', state.errors[0]) : '',\r\n  ]),\r\n]\r\n","import http from '../http.js'\r\nimport { compose } from 'ramda'\r\n\r\nconst getGroup = (model) => (dto) =>\r\n  http.getTask(model)(`data/Groups?${dto}&loadRelations=members`)\r\n\r\nconst toDto = (id) => encodeURI(`where=members.objectId = '${id}'`)\r\n\r\nexport const findGroups = (model) =>\r\n  compose(\r\n    getGroup(model),\r\n    toDto\r\n  )\r\n","import m from 'mithril'\r\nimport { Group } from './Group/component.js'\r\nimport Modal from '../components/Modal.js'\r\nimport { BtnClose } from '../components/Btns.js'\r\nimport { Editor } from '../Editor/component.js'\r\nimport { findGroups } from './model.js'\r\n\r\nconst onInitError = (state) => (errors) => (state.errors = errors)\r\n\r\nconst onInitSuccess = (state) => (groups) => {\r\n  state.groups = groups\r\n}\r\n\r\nexport const Groups = {\r\n  oninit: ({ state, attrs: { model } }) => {\r\n    model.state.reload = () =>\r\n      findGroups(model)(model.user.objectId).fork(\r\n        onInitError(state),\r\n        onInitSuccess(state)\r\n      )\r\n  },\r\n  oncreate: ({ attrs: { model } }) => model.state.reload(),\r\n  view: ({ attrs: { model }, state }) => [\r\n    m(\r\n      '.groups',\r\n      state.groups\r\n        ? state.groups.map((g, id) =>\r\n          m(\r\n            Group,\r\n            {\r\n              reload: model.state.reload,\r\n              model,\r\n              g,\r\n              key: id,\r\n            },\r\n            `id: ${id}`\r\n          )\r\n        )\r\n        : 'add a group'\r\n    ),\r\n    model.getState('groups-modal')\r\n      ? m(\r\n        Modal,\r\n        m('.modal-content', [\r\n          m(Editor, {\r\n            model,\r\n            page: 'group',\r\n            id: model.state.group.id,\r\n            reload: model.state.reload,\r\n          }),\r\n          m(BtnClose, {\r\n            action: () => {\r\n              model.state.group.id = ''\r\n              model.toggleState('groups-modal')\r\n            },\r\n            label: 'Close',\r\n          }),\r\n        ])\r\n      )\r\n      : '',\r\n  ],\r\n}\r\n","import m from 'mithril'\r\n// import http from '../../http.js'\r\n// import { format } from 'date-fns'\r\n\r\nconst updateInviteResponse = (model) => (key) => (rsvp) => {\r\n  model, key, rsvp\r\n}\r\n// updateInviteWithResponse(model)(key)(rsvp)\r\n\r\nconst rsvps = ['Yes', 'No', 'Maybe']\r\n\r\n// const onLoadS = (state) => ({\r\n//   Invitation: {\r\n//     response,\r\n//     partySize,\r\n//     event: {\r\n//       id,\r\n//       title,\r\n//       date,\r\n//       hostedBy: { email },\r\n//     },\r\n//   },\r\n// }) => {\r\n//   state.invite = {\r\n//     response,\r\n//     partySize,\r\n//     title,\r\n//     date: format(date, 'MM-DD-YYYY'),\r\n//     email,\r\n//     eventId: id,\r\n//   }\r\n//   return state\r\n// }\r\n\r\n// const onLoadE = (state) => (err) => {\r\n//   state.err = err\r\n//   console.log('fail', state)\r\n// }\r\n\r\nexport const Invite = {\r\n  oninit: ({ attrs: { key, model }, state }) => {\r\n    console.log(key, model, state)\r\n  },\r\n  // getInvite(model)(key).fork(onLoadE(state), onLoadS(state)),\r\n  view: ({ attrs: { key, model }, state }) => {\r\n    return state.invite\r\n      ? m('.invite', [\r\n        m('p.title', state.invite.title),\r\n        m('p.email', state.invite.email),\r\n        m('p.date', state.invite.date),\r\n        m(\r\n          '.rsvps',\r\n          rsvps.map((rsvp) =>\r\n            m(\r\n              `button.button${\r\n                state.invite.response == rsvp ? '.isSelected' : ''\r\n              }`,\r\n              {\r\n                onclick: () => {\r\n                  state.invite.response = rsvp\r\n                  updateInviteResponse(model)(key)(rsvp)\r\n                },\r\n              },\r\n              rsvp\r\n            )\r\n          )\r\n        ),\r\n        m('p.partySize', state.invite.partySize),\r\n      ])\r\n      : ''\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\n// import http from '../http.js'\r\n\r\nimport { Invite } from './Invite/component.js'\r\n\r\n// const onLoadSuccess = (state) => ({ allInvitations }) =>\r\n//   (state.invites = allInvitations)\r\n\r\n// const onLoadError = (state) => (err) => {\r\n//   state.error = err\r\n//   console.log('fail', state)\r\n// }\r\n\r\nexport const Invites = {\r\n  oninit: ({ attrs: { model }, state }) => {\r\n    state.invites = []\r\n    state.errors = {}\r\n    console.log(model)\r\n    // findGroupInvites(model).fork(onLoadError(state), onLoadSuccess(state))\r\n  },\r\n  view: ({ attrs: { model }, state }) => {\r\n    console.log('state', state)\r\n    return m(\r\n      '.attendaces',\r\n      state.invites.map(({ id }) => m(Invite, { model, key: id }, `id: ${id}`))\r\n    )\r\n  },\r\n}\r\n","import m from 'mithril'\r\nimport http from '../http.js'\r\nimport { App } from '../App.js'\r\n\r\nexport const validateData = ({ email, password }) =>\r\n  email ? (password ? true : false) : false\r\n\r\nexport const authenticated = (model) => (route) =>\r\n  m.route(document.body, route, App(model))\r\n\r\nexport const loginUser = (model) => (data) => {\r\n  let dto = {\r\n    login: data.email,\r\n    password: data.password,\r\n  }\r\n\r\n  return http.postTask(model)('users/login')({ dto })\r\n}\r\nexport const registerUser = (model) => (dto) =>\r\n  http.postTask(model)('users/register')({ dto })\r\n","import m from 'mithril'\r\n\r\nimport {\r\n  validateData,\r\n  authenticated,\r\n  loginUser,\r\n  registerUser,\r\n} from './model.js'\r\n\r\nimport { makeRoute } from '../utils/index.js'\r\n\r\nconst onSuccess = (state) => (model) => (user) => {\r\n  window.sessionStorage.setItem('user-token', user['user-token'])\r\n  model.user = user\r\n  state.errors = null\r\n  authenticated(model)(`/${makeRoute(model.user.name)}/groups`)\r\n}\r\n\r\nconst onError = (state) => ({ message }) => {\r\n  state.errors = message\r\n  console.log(state)\r\n  return state\r\n}\r\n\r\nconst logUserIn = (model) => (state) =>\r\n  loginUser(model)(state).fork(onError(state), onSuccess(state)(model))\r\n\r\nconst regUser = (model) => (dto) =>\r\n  registerUser(model)(dto)\r\n    .chain(() => loginUser(model)(dto))\r\n    .fork(onError(dto), onSuccess(dto)(model))\r\n\r\nconst Login = {\r\n  view: ({ attrs: { model }, state }) =>\r\n    m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          state.errors = null\r\n          e.preventDefault()\r\n          validateData(state) ? logUserIn(model)(state) : ''\r\n        },\r\n      },\r\n      [\r\n        m('fieldset.fieldset', [\r\n          m('legend', 'Login'),\r\n          m('.fields', [\r\n            m('label', { for: 'email' }, 'email'),\r\n            m('input', {\r\n              type: 'email',\r\n              id: 'email',\r\n              name: 'login',\r\n              onchange: (e) => (state.email = e.target.value),\r\n            }),\r\n            m('label', { for: 'password' }, 'Password'),\r\n            m('input', {\r\n              type: 'password',\r\n              id: 'password',\r\n              name: 'login',\r\n              onchange: (e) => (state.password = e.target.value),\r\n            }),\r\n          ]),\r\n          m(\r\n            'button[type=submit]',\r\n            { class: model.state.isLoading() ? 'submitting' : 'submit' },\r\n            model.state.isLoading() ? 'Submitting' : 'Submit'\r\n          ),\r\n          state.errors ? m('p.error', state.errors) : '',\r\n        ]),\r\n        m(\r\n          'a',\r\n          {\r\n            oncreate: m.route.link,\r\n            href: '/register',\r\n          },\r\n          'register'\r\n        ),\r\n      ]\r\n    ),\r\n}\r\n\r\nconst Register = {\r\n  view: ({ attrs: { model }, state }) =>\r\n    m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          state.errors = null\r\n          e.preventDefault()\r\n          validateData(state) ? regUser(model)(state) : ''\r\n        },\r\n      },\r\n      [\r\n        m('fieldset.fieldset', [\r\n          m('legend', 'register'),\r\n          m('.fields', [\r\n            m('label', { for: 'email' }, 'email'),\r\n            m('input', {\r\n              type: 'email',\r\n              id: 'email',\r\n              name: 'register',\r\n              onchange: (e) => (state.email = e.target.value),\r\n            }),\r\n            m('label', { for: 'name' }, 'name'),\r\n            m('input', {\r\n              type: 'text',\r\n              id: 'name',\r\n              name: 'register',\r\n              onchange: (e) => (state.name = e.target.value),\r\n            }),\r\n            m('label', { for: 'password' }, 'Password'),\r\n            m('input', {\r\n              type: 'password',\r\n              id: 'password',\r\n              name: 'register',\r\n              onchange: (e) => (state.password = e.target.value),\r\n            }),\r\n          ]),\r\n          m(\r\n            'button[type=submit]',\r\n            { class: model.state.isLoading() ? 'submitting' : 'submit' },\r\n            model.state.isLoading() ? 'Submitting' : 'Submit'\r\n          ),\r\n          state.errors ? m('p.error', state.errors) : '',\r\n        ]),\r\n        m(\r\n          'a',\r\n          {\r\n            oncreate: m.route.link,\r\n            href: '/login',\r\n          },\r\n          'login'\r\n        ),\r\n      ]\r\n    ),\r\n}\r\n\r\nexport { Login, Register }\r\n","import m from 'mithril'\r\nimport Layout from './components/Layout.js'\r\nimport { Login, Register } from './Login/component'\r\n\r\nconst LoginPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Login, { model })),\r\n}\r\n\r\nconst RegisterPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Register, { model })),\r\n}\r\n\r\nexport const UnAuthenticated = (model) => ({\r\n  '/login': {\r\n    onmatch: () => {\r\n      model.state.route('login')\r\n    },\r\n    render: () => m(Layout, { model }, m(LoginPage, { model })),\r\n  },\r\n  '/register': {\r\n    onmatch: () => {\r\n      model.state.route('register')\r\n    },\r\n    render: () => m(Layout, { model }, m(RegisterPage, { model })),\r\n  },\r\n})\r\n","import bcrypt from 'bcryptjs'\r\n\r\nconst secure = (str) => bcrypt.hash(str, 10)\r\n\r\nconst checkAuth = (model) => {\r\n  let userLogedIn =\r\n    model.user.id &&\r\n    window.sessionStorage.getItem('user-token') == model.user['user-token']\r\n\r\n  console.log(\r\n    'userLogedIn',\r\n    userLogedIn,\r\n    model.user,\r\n    window.sessionStorage.getItem('user-token')\r\n  )\r\n\r\n  return userLogedIn\r\n}\r\n\r\nexport { secure, checkAuth }\r\n","import m from 'mithril'\r\n\r\nimport Layout from './components/Layout.js'\r\nimport { Groups } from './Groups/component'\r\nimport { Invites } from './Invites/component'\r\nimport { Editor } from './Editor/component'\r\nimport { UnAuthenticated } from './UnAuthenticated.js'\r\nimport { checkAuth } from './auth.js'\r\n\r\nconst GroupsPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Groups, { model })),\r\n}\r\n\r\nconst EventsPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Invites, { model })),\r\n}\r\n\r\nconst EditorPage = {\r\n  view: ({ attrs: { model, page, id } }) =>\r\n    m('.component', m(Editor, { model, page, id })),\r\n}\r\n\r\nexport const App = (model) => ({\r\n  '/:username/groups': {\r\n    onmatch: () => {\r\n      model.state.route('groups')\r\n      checkAuth(model)\r\n    },\r\n    render: () => m(Layout, { model }, m(GroupsPage, { model })),\r\n  },\r\n  '/:username/:group/events': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route('events')\r\n      checkAuth(model)\r\n    },\r\n    render: () => m(Layout, { model }, m(EventsPage, { model })),\r\n  },\r\n  '/:username/:group/new-event': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route('newEvent')\r\n      checkAuth(model)\r\n    },\r\n    render: () =>\r\n      m(Layout, { model }, m(EditorPage, { model, page: 'event', id: null })),\r\n  },\r\n  '/:username/:group/edit/:event': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route('editEvent')\r\n      checkAuth(model)\r\n    },\r\n    render: () =>\r\n      m(\r\n        Layout,\r\n        { model },\r\n        m(EditorPage, { model, page: 'event', id: 'eventID' })\r\n      ),\r\n  },\r\n  '/logout': {\r\n    onmatch: () => {\r\n      model.user = {}\r\n      checkAuth(model)\r\n    },\r\n    render: () => m.route(document.body, '/login', UnAuthenticated(model)),\r\n  },\r\n})\r\n","const root = document.body\r\nimport m from 'mithril'\r\nimport { model } from './Model.js'\r\n// import { checkAuth } from './auth.js'\r\nimport { App } from './App.js'\r\nimport { makeRoute } from './utils/index.js'\r\nimport { UnAuthenticated } from './UnAuthenticated.js'\r\n\r\nif (module.hot) {\r\n  module.hot.accept()\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!')\r\n}\r\n\r\n// Styles\r\nimport './index.css'\r\nimport './assets/animations.css'\r\nimport './assets/loader.css'\r\n\r\nfunction getProfile(w) {\r\n  if (w < 668) return 'phone'\r\n  if (w < 920) return 'tablet'\r\n  return 'desktop'\r\n}\r\n\r\nlet winW = window.innerWidth\r\nmodel.state.profile = getProfile(winW)\r\n\r\nfunction checkWidth() {\r\n  const w = window.innerWidth\r\n  if (winW !== w) {\r\n    winW = w\r\n    var lastProfile = model.state.profile\r\n    model.state.profile = getProfile(w)\r\n    if (lastProfile != model.state.profile) m.redraw()\r\n  }\r\n  requestAnimationFrame(checkWidth)\r\n}\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker\r\n      .register('./service-worker.js')\r\n      .then((registration) => {\r\n        console.log('🧟 SW registered: ', registration)\r\n      })\r\n      .catch((registrationError) => {\r\n        console.log('⚙️ SW registration failed: ', registrationError)\r\n      })\r\n  })\r\n}\r\n\r\ncheckWidth()\r\n\r\n// checkAuth(model)\r\nmodel.user.id\r\n  ? m.route(document.body, `/${makeRoute(model.user.name)}/groups`, App(model))\r\n  : m.route(root, '/login', UnAuthenticated(model))\r\n"],"sourceRoot":""}