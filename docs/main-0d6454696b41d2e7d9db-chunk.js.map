{"version":3,"sources":["webpack:///./http.js","webpack:///./secrets.js","webpack:///./Model.js","webpack:///./components/Hamburger.js","webpack:///./assets/animations.js","webpack:///./utils/index.js","webpack:///./components/Btns.js","webpack:///./components/Header.js","webpack:///./components/Footer.js","webpack:///./components/NavBar.js","webpack:///./components/Menu.js","webpack:///./components/Body.js","webpack:///./components/Layout.js","webpack:///./Groups/model.js","webpack:///./Groups/Group/component.js","webpack:///./components/Modal.js","webpack:///./Editor/model.js","webpack:///./Editor/component.js","webpack:///./Editor/forms/index.js","webpack:///./Groups/component.js","webpack:///./Events/model.js","webpack:///./Events/Event/component.js","webpack:///./Events/component.js","webpack:///./Login/model.js","webpack:///./Login/component.js","webpack:///./UnAuthenticated.js","webpack:///./auth.js","webpack:///./App.js","webpack:///./index.js"],"names":["m","data_task__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","data_task__WEBPACK_IMPORTED_MODULE_0___default","n","_secrets_js__WEBPACK_IMPORTED_MODULE_1__","parseHttpError","model","rej","Error","state","isLoading","response","parseHttpSuccess","res","data","getUserToken","window","sessionStorage","getItem","http","postQl","query","Task","request","method","withCredentials","string","JSON","parse","stringify","headers","Authorization","concat","token","cache-control","x-apikey","content-type","then","_ref","errors","Promise","reject","resolve","parseQLResponse","postTask","url","_ref2","dto","baseUrl","APP_ID","API_KEY","user-token","getTask","putTask","_ref3","deleteTask","id","d","__webpack_exports__","reload","Stream","profile","tabsShowing","route","group","name","event","invite","toggleDict","groups-modal","events-modal","invites-modal","events","groups","pages","user","objectId","showTabs","getState","ctx","toggleState","Hamburger","attrs","render","dom","xmlns","oncreate","onupdate","view","_ref4","style","fill","onclick","animateSidebarEntrance","opacity","classList","toggle","animateChildrenLimitsEntrance","idx","setTimeout","animate","dir","_ref5","makeRoute","compose","join","split","trim","toLower","Btn","_ref$attrs","action","label","BtnClose","_ref2$attrs","actionsAt","landing","login","register","home","set","newGroup","newEvent","Actions","Header","Footer","Tab","key","tab","href","link","Sidebar","tabs","map","active","Menu","onbeforeremove","_ref6","remove","add","children","Body","Layout","toDto","encodeURI","findGroups","getGroup","Group","_ref$attrs$g","g","members","length","deleteGroup","fork","console","warn","onError","log","onSuccess","Modal","ModalContainer","v","document","createElement","className","body","appendChild","mount","onbeforeupdate","r","addEventListener","onremove","removeChild","saveGroup","updateGroup","assocUserToGroup","userId","message","error","onSaveGroupSuccess","getForm","for","type","value","onchange","e","target","title","description","location","date","format","Editor","oninit","page","form","_ref3$attrs","onsubmit","preventDefault","chain","saveForm","class","Groups","findGroupsError","findGroupsSuccess","findEvents","groupId","getEvent","Event","_ref$attrs$i","i","deleteEvent","Events","findEventsError","findEventsSuccess","validateData","email","password","loginUser","setItem","App","authenticated","regUser","registerUser","Login","logUserIn","Register","LoginPage","RegisterPage","UnAuthenticated","/login","onmatch","/register","checkAuth","userLogedIn","GroupsPage","EventsPage","/:username/groups","/:username/:group/events","args","path","/logout","root","getProfile","w","winW","innerWidth","navigator","serviceWorker","registration","catch","registrationError","checkWidth","lastProfile","redraw","requestAnimationFrame"],"mappings":"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","file":"main-0d6454696b41d2e7d9db-chunk.js","sourcesContent":["import Task from 'data.task'\r\nimport { baseUrl, APP_ID, API_KEY } from './secrets.js'\r\n\r\nconst makeQuery = (string) => JSON.parse(JSON.stringify(string))\r\n\r\nconst parseQLResponse = (model) => ({ data, errors }) => {\r\n  model.state.isLoading(false)\r\n  return errors ? Promise.reject(errors) : Promise.resolve(data)\r\n}\r\n\r\nexport const parseHttpError = (model) => (rej) => (Error) => {\r\n  model.state.isLoading(false)\r\n  return rej(Error.response)\r\n}\r\n\r\nexport const parseHttpSuccess = (model) => (res) => (data) => {\r\n  model.state.isLoading(false)\r\n  return res(data)\r\n}\r\n\r\nconst getUserToken = () =>\r\n  window.sessionStorage.getItem('user-token')\r\n    ? window.sessionStorage.getItem('user-token')\r\n    : ''\r\n\r\nconst postQl = (model) => (query) => {\r\n  model.state.isLoading(true)\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'POST',\r\n        // url: graphQl,\r\n        withCredentials: false,\r\n        data: makeQuery(query),\r\n        headers: {\r\n          Authorization: `Bearer ${model.state.token}`,\r\n          'cache-control': 'no-cache',\r\n          'x-apikey': '64fecd3f0cbb54d46d7f7260b86b8ad45d31b',\r\n          'content-type': 'application/json',\r\n        },\r\n      })\r\n      .then(parseQLResponse(model))\r\n      .then(parseHttpSuccess(model)(res), parseHttpError(model)(rej))\r\n  )\r\n}\r\n\r\nconst postTask = (model) => (url) => ({ dto }) => {\r\n  model.state.isLoading(true)\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'POST',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}`,\r\n        data: dto,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(parseHttpSuccess(model)(res), parseHttpError(model)(rej))\r\n  )\r\n}\r\n\r\nconst putTask = (model) => (url) => ({ dto }) => {\r\n  model.state.isLoading(true)\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'PUT',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}`,\r\n        data: dto,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(parseHttpSuccess(model)(res), parseHttpError(model)(rej))\r\n  )\r\n}\r\n\r\nconst getTask = (model) => (url) => {\r\n  model.state.isLoading(true)\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'GET',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}`,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(parseHttpSuccess(model)(res), parseHttpError(model)(rej))\r\n  )\r\n}\r\nconst deleteTask = (model) => (url) => (id) => {\r\n  model.state.isLoading(true)\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'DELETE',\r\n        url: `${baseUrl}/${APP_ID}/${API_KEY}/${url}/${id}`,\r\n        headers: { 'user-token': getUserToken() },\r\n        withCredentials: false,\r\n      })\r\n      .then(parseHttpSuccess(model)(res), parseHttpError(model)(rej))\r\n  )\r\n}\r\nconst http = { postQl, postTask, getTask, putTask, deleteTask }\r\n\r\nexport default http\r\n","export const TOKEN =\r\n  'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1NTUyODM4NTksIm5iZiI6MTU1NTI4Mzg1OSwiZXhwIjoxNTU1MzcwMjU5fQ.jwZa642QeexFDfAA2nUcZe5QXqTf6PtMSSAGY9Bw5Es'\r\n\r\nexport const prismaUrl = 'https://us1.prisma.sh/boaz-blake-8951e1/shindigit/dev'\r\nexport const restDbUrl = 'https://mithril-ae5c.restdb.io/rest/'\r\n// GITHUB\r\nexport const GITHUB_CLIENT_ID = 'dee0eca430c29232f457'\r\nexport const GITHUB_CLIENT_SECRET = 'b659022d58d1c4618afc81585a0d532db3e7d43a'\r\n\r\n//backendless\r\nexport const API_KEY = '3AA68F17-E271-EE57-FF46-EB6E95626600'\r\nexport const APP_ID = '72F4AE0D-0876-A16A-FF0F-A2D7A65AE300'\r\n//URL\r\nexport const baseUrl = 'https://api.backendless.com'\r\n\r\n//RESTDB\r\nexport const REST_CLIENT_ID = 'wly12TyM6CBy5rA90BfNTbh14dgN9KyZ'\r\nexport const REST_CLIENT_SECRET =\r\n  'ebaYxkz-HK10ebILuY1YjK2sb6Iy3GET7NPjKlz9G0vsd2D0z6SMlY7sylUgkb57'\r\n","import Stream from 'mithril-stream'\r\n\r\nconst pages = ['login', 'logout', 'createEvent', '']\r\n\r\nconst state = {\r\n  reload: () => {},\r\n  isLoading: Stream(false),\r\n  profile: '',\r\n  tabsShowing: false,\r\n  route: Stream(''),\r\n  group: { id: Stream(''), name: Stream('') },\r\n  event: { id: Stream(''), name: Stream('') },\r\n  invite: { id: Stream(''), name: Stream('') },\r\n  errors: Stream(''),\r\n}\r\n\r\nconst toggleDict = {\r\n  'groups-modal': Stream(false),\r\n  'events-modal': Stream(false),\r\n  'invites-modal': Stream(false),\r\n}\r\n\r\nconst user = { objectId: '', name: '' }\r\n\r\nconst errors = null\r\n\r\nconst showTabs = (model) => (model.state.tabsShowing = !model.state.tabsShowing)\r\n\r\nexport const model = {\r\n  events: Stream([]),\r\n  groups: Stream([]),\r\n  pages,\r\n  user,\r\n  state,\r\n  showTabs,\r\n  errors,\r\n  getState: (ctx) => toggleDict[ctx](),\r\n  toggleState: (ctx) => toggleDict[ctx](!toggleDict[ctx]()),\r\n}\r\n","import m from 'mithril'\r\n\r\nconst Hamburger = ({ attrs: { model } }) => {\r\n  const state = {\r\n    close:\r\n      'M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z',\r\n    open: 'M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z',\r\n  }\r\n\r\n  const render = dom =>{\r\n    return m.render(\r\n      dom,\r\n      m('path', {\r\n        xmlns: 'http://www.w3.org/2000/svg',\r\n        d: model.state.tabsShowing ? state.close : state.open,\r\n      })\r\n    )}\r\n\r\n  return {\r\n    oncreate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    onupdate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    view: ({ attrs: { model } }) =>\r\n      m('svg.btn.hamburger', {\r\n        style:{fill: model.state.tabsShowing? 'white': 'inherit'},\r\n        onclick: () => model.showTabs(model),\r\n      }),\r\n  }\r\n}\r\n\r\nexport default Hamburger\r\n","export const animateComponentEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  return setTimeout(() => {\r\n    dom.classList.toggle('stretchRight')\r\n    dom.style.opacity = 1\r\n  }, idx * 100 + 20)\r\n}\r\n\r\nexport const animateSidebarEntrance = ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  dom.classList.toggle('slideRight')\r\n  dom.style.opacity = 1\r\n}\r\n\r\nexport const animateChildrenEntrance = ({ dom }) => {\r\n  let children = [...dom.children]\r\n\r\n  return children.map((child, idx) => {\r\n    child.style.opacity = 0\r\n    setTimeout(() => {\r\n      child.classList.toggle('slideRight')\r\n      child.style.opacity = 1\r\n    }, (idx + 1) * 10)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle('slideDown')\r\n    dom.style.opacity = 1\r\n  }, (idx + 1) * 200)\r\n}\r\n\r\nexport const animate = (dir) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle(dir)\r\n    dom.style.opacity = 1\r\n  }, 200)\r\n}\r\n\r\nexport const slideMenuOut = ({ dom }) => {\r\n  return new Promise(() => {\r\n    dom.classList.remove('slideRight')\r\n    return setTimeout(() => {\r\n      dom.classList.add('reverseAnimation', 'slideRight')\r\n    }, 200)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsExit = ({ dom }) =>\r\n  new Promise(() => {\r\n    [...dom.children].reverse().map((child, idx) => {\r\n      return setTimeout(() => {\r\n        child.style.display = 'none'\r\n      }, idx * 100)\r\n    })\r\n  })\r\n","import { compose, join, split, trim, toLower } from 'ramda'\r\n\r\nexport const makeRoute = compose(\r\n  join('-'),\r\n  split(' '),\r\n  trim(),\r\n  toLower()\r\n)\r\n\r\nexport const log = (m) => (v) => {\r\n  console.log(m, v)\r\n  return v\r\n}\r\n\r\n// function scrollToAnchor(anchorName) {\r\n//   let is = (el) => {\r\n//     return el !== undefined && el !== null\r\n//   }\r\n//   //if you pass an undefined anchor it will scroll to the top of the body\r\n//   let targetEl = is(anchor)\r\n//     ? document.querySelector('a[name=' + anchor + ']')\r\n//     : document.body\r\n//   let scrollTop = window.pageYOffset || document.documentElement.scrollTop\r\n//   let target = is(targetEl) ? targetEl.getBoundingClientRect().top : 0\r\n//   window.scroll({\r\n//     top: target + scrollTop - 70,\r\n//     left: 0,\r\n//     behavior: 'smooth',\r\n//   })\r\n// }\r\n\r\n// onclick: (e) => {\r\n//   let anchor = \"contact-me\";\r\n//   m.route.set(\"/home\", { \"a\": anchor });\r\n//   scrollToAnchor(anchor);\r\n// }\r\n// https://dev.to/weirdmayo/anchor-links-in-mithriljs-277l\r\n","import m from 'mithril'\r\n\r\nexport const Btn = {\r\n  view: ({ attrs: { action, label } }) => [\r\n    m(\r\n      'button.Btn',\r\n      {\r\n        onclick: () => action(),\r\n      },\r\n      label\r\n    ),\r\n  ],\r\n}\r\n\r\nexport const BtnClose = {\r\n  view: ({ attrs: { action, label } }) => [\r\n    m(\r\n      'button.btn-close',\r\n      {\r\n        onclick: () => action(),\r\n      },\r\n      label\r\n    ),\r\n  ],\r\n}\r\n","import m from 'mithril'\r\nimport Hamburger from './Hamburger.js'\r\nimport { animate } from '../assets/index.js'\r\nimport { makeRoute } from '../utils/index.js'\r\nimport { Btn } from './Btns.js'\r\n\r\nconst actionsAt = {\r\n  groups: (model) => [\r\n    m(Btn, {\r\n      action: () => model.toggleState('groups-modal'),\r\n      label: 'Add Group',\r\n    }),\r\n  ],\r\n  landing: () => ['LANDING PAGE'],\r\n  login: () => ['Log in'],\r\n  register: () => ['Register'],\r\n  home: () => ['LANDING PAGE'],\r\n  events: (model) => [\r\n    m(Btn, {\r\n      action: () => {\r\n        model.state.group.name('')\r\n        model.state.group.id('')\r\n        m.route.set(`/${makeRoute(model.user.name)}/groups`)\r\n      },\r\n      label: 'Back to Groups',\r\n    }),\r\n    m(Btn, {\r\n      action: () => model.toggleState('events-modal'),\r\n      label: 'Add Event',\r\n    }),\r\n  ],\r\n  newGroup: (model) => [\r\n    m(Btn, {\r\n      action: () => {\r\n        model.state.group.name('')\r\n        model.state.group.id('')\r\n        m.route.set(`/${makeRoute(model.user.name)}/groups`)\r\n      },\r\n      label: 'Back to Groups',\r\n    }),\r\n  ],\r\n  newEvent: (model) => [\r\n    m(Btn, {\r\n      action: () =>\r\n        m.route.set(\r\n          `/${model.user.name}/groups${makeRoute(model.state.group.name())}`\r\n        ),\r\n      label: 'Back to Group',\r\n    }),\r\n  ],\r\n}\r\n\r\nconst Actions = {\r\n  view: ({ attrs: { model } }) =>\r\n    m('.actions', actionsAt[model.state.route()](model)),\r\n}\r\n\r\nconst Header = {\r\n  oncreate: animate('slideDown'),\r\n  view: ({ attrs: { model } }) =>\r\n    m(\r\n      'header.header',\r\n      {\r\n        id: 'header',\r\n      },\r\n      [m(Hamburger, { model }), m(Actions, { model })]\r\n    ),\r\n}\r\n\r\nexport default Header\r\n","import m from 'mithril'\r\nimport { animate, animateChildrenLimitsEntrance } from '../assets/index.js'\r\n\r\n\r\nconst Footer = {\r\n  oncreate: animate('slideUp'),\r\n  view: () => m('footer.footer', {\r\n    oncreate:animateChildrenLimitsEntrance, id: 'footer',\r\n  },\r\n  'by Boaz Blake',\r\n  ),\r\n}\r\n\r\nexport default Footer\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance } from '../assets/index.js'\r\n\r\nconst Tab = ({ attrs: { key } }) => {\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { tab } }) =>\r\n      m(\r\n        'a.tab',\r\n        {\r\n          key,\r\n          id: `${tab}`,\r\n          href: `${tab}`,\r\n          oncreate: m.route.link,\r\n        },\r\n        tab\r\n      ),\r\n  }\r\n}\r\n\r\nconst Sidebar = ({ attrs: { model } }) => {\r\n  let tabs = model.pages\r\n\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { model } }) =>\r\n      m(\r\n        'aside.sidebar slide-left',\r\n        {\r\n          id: 'sidebar',\r\n        },\r\n        tabs.map((tab, idx) =>\r\n          m(Tab, {\r\n            key: idx,\r\n            active: model.state.route() == tab,\r\n            tab,\r\n          })\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Sidebar\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance, slideMenuOut } from '../assets/index.js'\r\n\r\nconst Menu = {\r\n  oncreate: animateSidebarEntrance,\r\n  onbeforeremove: slideMenuOut,\r\n  view: ({ children }) => m('.navigationMenu', children),\r\n}\r\n\r\nexport default Menu\r\n","import m from 'mithril'\r\n\r\nconst Body = {\r\n  view: ({attrs:{ children }}) => m('section.content', { id: 'content' }, children),\r\n}\r\n\r\nexport default Body\r\n","import m from 'mithril'\r\nimport Header from './Header.js'\r\nimport Footer from './Footer.js'\r\nimport Sidebar from './NavBar.js'\r\nimport Menu from './Menu.js'\r\nimport Body from './Body.js'\r\n\r\nconst Layout = ({ attrs: { model } }) => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\r\n        'section.layout',\r\n        {\r\n          id: 'layout',\r\n        },\r\n        children\r\n          ? [\r\n            m(Header, { model }),\r\n            model.state.profile == 'phone'\r\n              ? model.state.tabsShowing\r\n                ? m(Menu, m(Sidebar, { model }))\r\n                : null\r\n              : m(Sidebar, { model }),\r\n            m(Body, { model, children }),\r\n            m(Footer, { model }),\r\n          ]\r\n          : []\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","import http from '../http.js'\r\nimport { compose } from 'ramda'\r\n\r\nexport const deleteGroup = (model) => (id) =>\r\n  http.deleteTask(model)('data/groups')(id)\r\n\r\nconst getGroup = (model) => (dto) =>\r\n  http.getTask(model)(`data/Groups?${dto}&loadRelations=members`)\r\n\r\nconst toDto = (id) => encodeURI(`where=members.objectId = '${id}'`)\r\n\r\nexport const findGroups = (model) =>\r\n  compose(\r\n    getGroup(model),\r\n    toDto\r\n  )\r\n","import m from 'mithril'\r\n\r\nimport { makeRoute } from '../../utils/index.js'\r\nimport { deleteGroup } from '../model.js'\r\n\r\nconst onError = (model) => (errors) => {\r\n  console.warn('errors', errors, model)\r\n}\r\n\r\nconst onSuccess = (reload) => (res) => {\r\n  console.log('success', res)\r\n  reload()\r\n}\r\n\r\nexport const Group = {\r\n  view: ({\r\n    attrs: {\r\n      reload,\r\n      model,\r\n      g: { objectId, name, members },\r\n    },\r\n  }) => {\r\n    return m('.group', [\r\n      m(\r\n        'button.btn',\r\n        {\r\n          onclick: () => {\r\n            model.state.group.id(objectId)\r\n            model.state.group.name(name)\r\n            m.route.set(\r\n              `/${makeRoute(model.user.name)}/${makeRoute(name)}/events`\r\n            )\r\n          },\r\n        },\r\n        m('p.title', name)\r\n      ),\r\n      m(\r\n        'button.btn',\r\n        {\r\n          onclick: () => {\r\n            model.state.group.id(objectId)\r\n            model.state.group.name(name)\r\n            model.toggleState('groups-modal')\r\n          },\r\n        },\r\n        m('p.title', 'Edit')\r\n      ),\r\n      m('p.groupSize', members.length),\r\n      m('button.btn-delete', {\r\n        onclick: () =>\r\n          deleteGroup(model)(objectId).fork(onError(model), onSuccess(reload)),\r\n      }),\r\n    ])\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\nconst Modal = function() {\r\n  let dom\r\n  let children\r\n\r\n  // Container component we mount to a root-level DOM node\r\n  const ModalContainer = {\r\n    view: () => children,\r\n  }\r\n\r\n  return {\r\n    oncreate(v) {\r\n      children = v.children\r\n      // Append a modal container to the end of body\r\n      dom = document.createElement('div')\r\n      // The modal class has a fade-in animation\r\n      dom.className = 'modal'\r\n      document.body.appendChild(dom)\r\n      // Mount a separate VDOM tree here\r\n      m.mount(dom, ModalContainer)\r\n    },\r\n    onbeforeupdate(v) {\r\n      children = v.children\r\n    },\r\n    onbeforeremove: () => {\r\n      // Add a class with fade-out exit animation\r\n      dom.classList.add('hide')\r\n      return new Promise((r) => {\r\n        dom.addEventListener('animationend', r)\r\n      })\r\n    },\r\n    onremove() {\r\n      // Destroy the modal dom tree. Using m.mount with\r\n      // null triggers any modal children removal hooks.\r\n      m.mount(dom, null)\r\n      document.body.removeChild(dom)\r\n    },\r\n    view() {},\r\n  }\r\n}\r\n\r\nexport default Modal\r\n","import http from '../http.js'\r\n\r\nconst toDto = (dto) => ({ dto })\r\n\r\nexport const getGroupData = (model) => (id) =>\r\n  http.getTask(model)(`/data/Groups/${id}`)\r\n\r\nexport const saveGroup = (model) => (name) =>\r\n  http.postTask(model)('data/Groups')(toDto({ name }))\r\nexport const updateGroup = (model) => (id, name) =>\r\n  http.putTask(model)(`data/Groups/${id}`)(toDto({ name }))\r\n\r\nexport const assocUserToGroup = (model) => (userId) => ({ objectId }) =>\r\n  http.putTask(model)(`data/Groups/${objectId}/members`)(toDto([userId]))\r\n","import m from 'mithril'\r\n\r\nimport { groupForm, eventForm } from './forms/index.js'\r\nimport { saveGroup, assocUserToGroup, updateGroup } from './model.js'\r\n\r\nconst onError = (state) => ({ message }) => (state.error = message)\r\n\r\nconst validateData = (data) => data\r\n\r\nconst onSaveGroupSuccess = (state) => (model) => (reload) => () => {\r\n  model.state.group.id('')\r\n  model.state.group.name('')\r\n  state.error = null\r\n  model.toggleState('groups-modal')\r\n  reload()\r\n}\r\n\r\nconst saveForm = (model) => (state) => (reload) => {\r\n  if (model.state.route() == 'groups') {\r\n    if (model.state.group.id()) {\r\n      return updateGroup(model)(model.state.group.id(), state.data.name).fork(\r\n        onError(state),\r\n        onSaveGroupSuccess(state)(model)(reload)\r\n      )\r\n    } else {\r\n      return saveGroup(model)(state.data.name)\r\n        .chain(assocUserToGroup(model)(model.user.objectId))\r\n        .fork(onError(state), onSaveGroupSuccess(state)(model)(reload))\r\n    }\r\n  }\r\n  if (model.state.route() == 'events') {\r\n    if (model.state.event.id()) {\r\n      return updateGroup(model)(model.state.group.id(), state.data.name).fork(\r\n        onError(state),\r\n        onSaveGroupSuccess(state)(model)(reload)\r\n      )\r\n    } else {\r\n      return saveGroup(model)(state.data.name)\r\n        .chain(assocUserToGroup(model)(model.user.objectId))\r\n        .fork(onError(state), onSaveGroupSuccess(state)(model)(reload))\r\n    }\r\n  }\r\n  if (model.state.route() == 'editGroup') {\r\n    // return editGroup(model)(state).fork(onError(state), onSaveSuccess(model))\r\n  }\r\n  if (model.state.route() == 'editEvent') {\r\n    // return editEvent(model)(state).fork(onError(state), onSaveSuccess(model))\r\n  }\r\n  return state\r\n}\r\n\r\nconst getForm = {\r\n  group: groupForm,\r\n  event: eventForm,\r\n}\r\n\r\nexport const Editor = {\r\n  oninit: ({ attrs: { model, page }, state }) => {\r\n    state.form = getForm[page]\r\n    state.data = {}\r\n    state.userId = model.user.id\r\n\r\n    model.state.group.id()\r\n      ? (state.data.name = model.state.group.name())\r\n      : (state.data = {})\r\n\r\n    return state\r\n  },\r\n  view: ({ attrs: { model, reload }, state }) =>\r\n    m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          model.error = null\r\n          e.preventDefault()\r\n          validateData(state.data) ? saveForm(model)(state)(reload) : ''\r\n        },\r\n      },\r\n      state.form(state),\r\n      state.error ? m('p.error', state.error) : '',\r\n      m(\r\n        'button[type=submit]',\r\n        {\r\n          class: model.state.isLoading() ? 'submitting' : 'submit',\r\n        },\r\n        model.state.isLoading() ? 'Submitting' : 'Submit'\r\n      )\r\n    ),\r\n}\r\n","import m from 'mithril'\r\n\r\nimport { format } from 'date-fns'\r\n\r\nexport const groupForm = (state) => [\r\n  m('fieldset.fieldset', [\r\n    m('legend', 'Create Group'),\r\n    m('.fields', [\r\n      m('label', { for: 'name' }, 'name'),\r\n      m('input', {\r\n        type: 'text',\r\n        id: 'name',\r\n        name: 'name',\r\n        value: state.data.name,\r\n        onchange: (e) => {\r\n          state.data.name = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    state.errors ? m('p.error', state.errors[0]) : '',\r\n  ]),\r\n]\r\n\r\nexport const eventForm = (state) => [\r\n  m('fieldset.fieldset', [\r\n    m('legend', 'Create Event'),\r\n    m('.fields', [\r\n      m('label', { for: 'title' }, 'title'),\r\n      m('input', {\r\n        type: 'text',\r\n        id: 'title',\r\n        name: 'title',\r\n        onchange: (e) => {\r\n          state.data.title = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'description' }, 'description'),\r\n      m('input', {\r\n        type: 'textarea',\r\n        id: 'description',\r\n        name: 'description',\r\n        onchange: (e) => {\r\n          state.data.description = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'location' }, 'location'),\r\n      m('input', {\r\n        type: 'textarea',\r\n        id: 'location',\r\n        name: 'location',\r\n        onchange: (e) => {\r\n          state.data.location = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'date' }, 'date'),\r\n      m('input', {\r\n        type: 'date',\r\n        id: 'date',\r\n        name: 'date',\r\n        onchange: (e) => {\r\n          state.data.date = format(e.target.value, 'GG')\r\n        },\r\n      }),\r\n    ]),\r\n    state.errors ? m('p.error', state.errors[0]) : '',\r\n  ]),\r\n]\r\n","import m from 'mithril'\r\nimport { Group } from './Group/component.js'\r\nimport Modal from '../components/Modal.js'\r\nimport { BtnClose } from '../components/Btns.js'\r\nimport { Editor } from '../Editor/component.js'\r\nimport { findGroups } from './model.js'\r\n\r\nconst findGroupsError = (model) => (errors) => model.state.errors(errors)\r\n\r\nconst findGroupsSuccess = (model) => (groups) => model.groups(groups)\r\n\r\nexport const Groups = {\r\n  oninit: ({ attrs: { model } }) => {\r\n    model.state.reload = () =>\r\n      findGroups(model)(model.user.objectId).fork(\r\n        findGroupsError(model),\r\n        findGroupsSuccess(model)\r\n      )\r\n  },\r\n  oncreate: ({ attrs: { model } }) => model.state.reload(),\r\n  view: ({ attrs: { model } }) => [\r\n    m(\r\n      '.groups',\r\n      model.groups()\r\n        ? model.groups().map((g, id) =>\r\n          m(\r\n            Group,\r\n            {\r\n              reload: model.state.reload,\r\n              model,\r\n              g,\r\n              key: id,\r\n            },\r\n            `id: ${id}`\r\n          )\r\n        )\r\n        : 'add a group'\r\n    ),\r\n    model.getState('groups-modal')\r\n      ? m(\r\n        Modal,\r\n        m('.modal-content', [\r\n          m(Editor, {\r\n            model,\r\n            page: 'group',\r\n            id: model.state.group.id(),\r\n            reload: model.state.reload,\r\n          }),\r\n          m(BtnClose, {\r\n            action: () => {\r\n              model.state.group.id('')\r\n              model.toggleState('groups-modal')\r\n            },\r\n            label: 'Close',\r\n          }),\r\n        ])\r\n      )\r\n      : '',\r\n  ],\r\n}\r\n","import http from '../http.js'\r\nimport { compose } from 'ramda'\r\n\r\nexport const deleteEvent = (model) => (id) =>\r\n  http.deleteTask(model)('data/Events')(id)\r\n\r\nconst getEvent = (model) => (groupId) => (dto) =>\r\n  http.getTask(model)(`data/Groups/${groupId}?${dto}&loadRelations=events`)\r\n\r\nconst toDto = (id) => encodeURI(`where=members.objectId = '${id}'`)\r\n\r\nexport const findEvents = (model) => (groupId) =>\r\n  compose(\r\n    getEvent(model)(groupId),\r\n    toDto\r\n  )\r\n","import m from 'mithril'\r\n\r\nimport { makeRoute } from '../../utils/index.js'\r\nimport { deleteEvent } from '../model.js'\r\n\r\nconst onError = (model) => (errors) => {\r\n  console.warn('errors', errors, model)\r\n}\r\n\r\nconst onSuccess = (reload) => (res) => {\r\n  console.log('success', res)\r\n  reload()\r\n}\r\n\r\nexport const Event = {\r\n  view: ({\r\n    attrs: {\r\n      reload,\r\n      model,\r\n      i: { objectId, name, response },\r\n    },\r\n  }) => {\r\n    return m('.event', [\r\n      m(\r\n        'button.btn',\r\n        {\r\n          onclick: () =>\r\n            m.route.set(\r\n              `/${makeRoute(model.user.name)}/${makeRoute(name)}/events`\r\n            ),\r\n        },\r\n        m('p.title', name)\r\n      ),\r\n      m(\r\n        'button.btn',\r\n        {\r\n          onclick: () => {\r\n            model.state.group.id(objectId)\r\n            model.state.group.name(name)\r\n            model.toggleState('groups-modal')\r\n          },\r\n        },\r\n        m('p.title', 'Edit')\r\n      ),\r\n      m('p.groupSize', response),\r\n      m('button.btn-delete', {\r\n        onclick: () =>\r\n          deleteEvent(model)(objectId).fork(onError(model), onSuccess(reload)),\r\n      }),\r\n    ])\r\n  },\r\n}\r\n","import m from 'mithril'\r\nimport Modal from '../components/Modal.js'\r\nimport { BtnClose } from '../components/Btns.js'\r\nimport { Editor } from '../Editor/component.js'\r\nimport { findEvents } from './model.js'\r\n\r\nimport { Event } from './Event/component.js'\r\n\r\nconst findEventsError = (model) => (errors) => model.state.errors(errors)\r\n\r\nconst findEventsSuccess = (model) => ({ events }) => model.events(events)\r\n\r\nexport const Events = {\r\n  oninit: ({ attrs: { model } }) => {\r\n    model.state.reload = () =>\r\n      findEvents(model)(model.state.group.id())(model.user.objectId).fork(\r\n        findEventsError(model),\r\n        findEventsSuccess(model)\r\n      )\r\n  },\r\n  oncreate: ({ attrs: { model } }) => model.state.reload(),\r\n  view: ({ attrs: { model } }) => [\r\n    m(\r\n      '.events',\r\n      model.events()\r\n        ? model.events().map((i, id) =>\r\n          m(\r\n            Event,\r\n            {\r\n              reload: model.state.reload,\r\n              model,\r\n              i,\r\n              key: id,\r\n            },\r\n            `id: ${id}`\r\n          )\r\n        )\r\n        : 'No Events Yet'\r\n    ),\r\n    model.getState('events-modal')\r\n      ? m(\r\n        Modal,\r\n        m('.modal-content', [\r\n          m(Editor, {\r\n            model,\r\n            page: 'event',\r\n            id: model.state.event.id(),\r\n            reload: model.state.reload,\r\n          }),\r\n          m(BtnClose, {\r\n            action: () => {\r\n              model.state.event.id('')\r\n              model.toggleState('events-modal')\r\n            },\r\n            label: 'Close',\r\n          }),\r\n        ])\r\n      )\r\n      : '',\r\n  ],\r\n}\r\n","import m from 'mithril'\r\nimport http from '../http.js'\r\nimport { App } from '../App.js'\r\n\r\nexport const validateData = ({ email, password }) =>\r\n  email ? (password ? true : false) : false\r\n\r\nexport const authenticated = (model) => (route) =>\r\n  m.route(document.body, route, App(model))\r\n\r\nexport const loginUser = (model) => (data) => {\r\n  let dto = {\r\n    login: data.email,\r\n    password: data.password,\r\n  }\r\n\r\n  return http.postTask(model)('users/login')({ dto })\r\n}\r\nexport const registerUser = (model) => (dto) =>\r\n  http.postTask(model)('users/register')({ dto })\r\n","import m from 'mithril'\r\n\r\nimport {\r\n  validateData,\r\n  authenticated,\r\n  loginUser,\r\n  registerUser,\r\n} from './model.js'\r\n\r\nimport { makeRoute } from '../utils/index.js'\r\n\r\nconst onSuccess = (state) => (model) => (user) => {\r\n  window.sessionStorage.setItem('user-token', user['user-token'])\r\n  model.user = user\r\n  state.errors = null\r\n  authenticated(model)(`/${makeRoute(model.user.name)}/groups`)\r\n}\r\n\r\nconst onError = (state) => ({ message }) => {\r\n  state.errors = message\r\n  console.log(state)\r\n  return state\r\n}\r\n\r\nconst logUserIn = (model) => (state) =>\r\n  loginUser(model)(state).fork(onError(state), onSuccess(state)(model))\r\n\r\nconst regUser = (model) => (dto) =>\r\n  registerUser(model)(dto)\r\n    .chain(() => loginUser(model)(dto))\r\n    .fork(onError(dto), onSuccess(dto)(model))\r\n\r\nconst Login = {\r\n  view: ({ attrs: { model }, state }) =>\r\n    m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          state.errors = null\r\n          e.preventDefault()\r\n          validateData(state) ? logUserIn(model)(state) : ''\r\n        },\r\n      },\r\n      [\r\n        m('fieldset.fieldset', [\r\n          m('legend', 'Login'),\r\n          m('.fields', [\r\n            m('label', { for: 'email' }, 'email'),\r\n            m('input', {\r\n              type: 'email',\r\n              id: 'email',\r\n              name: 'login',\r\n              onchange: (e) => (state.email = e.target.value),\r\n            }),\r\n            m('label', { for: 'password' }, 'Password'),\r\n            m('input', {\r\n              type: 'password',\r\n              id: 'password',\r\n              name: 'login',\r\n              onchange: (e) => (state.password = e.target.value),\r\n            }),\r\n          ]),\r\n          m(\r\n            'button[type=submit]',\r\n            { class: model.state.isLoading() ? 'submitting' : 'submit' },\r\n            model.state.isLoading() ? 'Submitting' : 'Submit'\r\n          ),\r\n          state.errors ? m('p.error', state.errors) : '',\r\n        ]),\r\n        m(\r\n          'a',\r\n          {\r\n            oncreate: m.route.link,\r\n            href: '/register',\r\n          },\r\n          'register'\r\n        ),\r\n      ]\r\n    ),\r\n}\r\n\r\nconst Register = {\r\n  view: ({ attrs: { model }, state }) =>\r\n    m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          state.errors = null\r\n          e.preventDefault()\r\n          validateData(state) ? regUser(model)(state) : ''\r\n        },\r\n      },\r\n      [\r\n        m('fieldset.fieldset', [\r\n          m('legend', 'register'),\r\n          m('.fields', [\r\n            m('label', { for: 'email' }, 'email'),\r\n            m('input', {\r\n              type: 'email',\r\n              id: 'email',\r\n              name: 'register',\r\n              onchange: (e) => (state.email = e.target.value),\r\n            }),\r\n            m('label', { for: 'name' }, 'name'),\r\n            m('input', {\r\n              type: 'text',\r\n              id: 'name',\r\n              name: 'register',\r\n              onchange: (e) => (state.name = e.target.value),\r\n            }),\r\n            m('label', { for: 'password' }, 'Password'),\r\n            m('input', {\r\n              type: 'password',\r\n              id: 'password',\r\n              name: 'register',\r\n              onchange: (e) => (state.password = e.target.value),\r\n            }),\r\n          ]),\r\n          m(\r\n            'button[type=submit]',\r\n            { class: model.state.isLoading() ? 'submitting' : 'submit' },\r\n            model.state.isLoading() ? 'Submitting' : 'Submit'\r\n          ),\r\n          state.errors ? m('p.error', state.errors) : '',\r\n        ]),\r\n        m(\r\n          'a',\r\n          {\r\n            oncreate: m.route.link,\r\n            href: '/login',\r\n          },\r\n          'login'\r\n        ),\r\n      ]\r\n    ),\r\n}\r\n\r\nexport { Login, Register }\r\n","import m from 'mithril'\r\nimport Layout from './components/Layout.js'\r\nimport { Login, Register } from './Login/component'\r\n\r\nconst LoginPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Login, { model })),\r\n}\r\n\r\nconst RegisterPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Register, { model })),\r\n}\r\n\r\nexport const UnAuthenticated = (model) => ({\r\n  '/login': {\r\n    onmatch: () => {\r\n      model.state.route('login')\r\n    },\r\n    render: () => m(Layout, { model }, m(LoginPage, { model })),\r\n  },\r\n  '/register': {\r\n    onmatch: () => {\r\n      model.state.route('register')\r\n    },\r\n    render: () => m(Layout, { model }, m(RegisterPage, { model })),\r\n  },\r\n})\r\n","import bcrypt from 'bcryptjs'\r\n\r\nconst secure = (str) => bcrypt.hash(str, 10)\r\n\r\nconst checkAuth = (model) => {\r\n  let userLogedIn =\r\n    model.user.id &&\r\n    window.sessionStorage.getItem('user-token') == model.user['user-token']\r\n\r\n  console.log(\r\n    'userLogedIn',\r\n    userLogedIn,\r\n    model.user,\r\n    window.sessionStorage.getItem('user-token')\r\n  )\r\n\r\n  return userLogedIn\r\n}\r\n\r\nexport { secure, checkAuth }\r\n","import m from 'mithril'\r\n\r\nimport Layout from './components/Layout.js'\r\nimport { Groups } from './Groups/component'\r\nimport { Events } from './Events/component'\r\nimport { UnAuthenticated } from './UnAuthenticated.js'\r\nimport { checkAuth } from './auth.js'\r\n\r\nconst GroupsPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Groups, { model })),\r\n}\r\n\r\nconst EventsPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Events, { model })),\r\n}\r\n\r\nexport const App = (model) => ({\r\n  '/:username/groups': {\r\n    onmatch: () => {\r\n      model.state.route('groups')\r\n      checkAuth(model)\r\n    },\r\n    render: () => m(Layout, { model }, m(GroupsPage, { model })),\r\n  },\r\n  '/:username/:group/events': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route('events')\r\n      checkAuth(model)\r\n    },\r\n    render: () => m(Layout, { model }, m(EventsPage, { model })),\r\n  },\r\n  '/logout': {\r\n    onmatch: () => {\r\n      model.user = {}\r\n      checkAuth(model)\r\n    },\r\n    render: () => m.route(document.body, '/login', UnAuthenticated(model)),\r\n  },\r\n})\r\n","const root = document.body\r\nimport m from 'mithril'\r\nimport { model } from './Model.js'\r\n// import { checkAuth } from './auth.js'\r\nimport { App } from './App.js'\r\nimport { makeRoute } from './utils/index.js'\r\nimport { UnAuthenticated } from './UnAuthenticated.js'\r\n\r\nif (module.hot) {\r\n  module.hot.accept()\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!')\r\n}\r\n\r\n// Styles\r\nimport './index.css'\r\nimport './assets/animations.css'\r\nimport './assets/loader.css'\r\n\r\nfunction getProfile(w) {\r\n  if (w < 668) return 'phone'\r\n  if (w < 920) return 'tablet'\r\n  return 'desktop'\r\n}\r\n\r\nlet winW = window.innerWidth\r\nmodel.state.profile = getProfile(winW)\r\n\r\nfunction checkWidth() {\r\n  const w = window.innerWidth\r\n  if (winW !== w) {\r\n    winW = w\r\n    var lastProfile = model.state.profile\r\n    model.state.profile = getProfile(w)\r\n    if (lastProfile != model.state.profile) m.redraw()\r\n  }\r\n  requestAnimationFrame(checkWidth)\r\n}\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker\r\n      .register('./service-worker.js')\r\n      .then((registration) => {\r\n        console.log('🧟 SW registered: ', registration)\r\n      })\r\n      .catch((registrationError) => {\r\n        console.log('⚙️ SW registration failed: ', registrationError)\r\n      })\r\n  })\r\n}\r\n\r\ncheckWidth()\r\n\r\n// checkAuth(model)\r\nmodel.user.id\r\n  ? m.route(document.body, `/${makeRoute(model.user.name)}/groups`, App(model))\r\n  : m.route(root, '/login', UnAuthenticated(model))\r\n"],"sourceRoot":""}