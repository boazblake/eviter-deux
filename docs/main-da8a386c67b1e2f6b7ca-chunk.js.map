{"version":3,"sources":["webpack:///./secrets.js","webpack:///./Model.js","webpack:///./auth.js","webpack:///./components/Hamburger.js","webpack:///./assets/animations.js","webpack:///./utils/index.js","webpack:///./components/Header.js","webpack:///./components/Footer.js","webpack:///./components/NavBar.js","webpack:///./components/Modal.js","webpack:///./components/Body.js","webpack:///./components/Layout.js","webpack:///./Login/component.js","webpack:///./Groups/Group/component.js","webpack:///./Groups/component.js","webpack:///./Invites/Invite/component.js","webpack:///./Invites/component.js","webpack:///./Editor/component.js","webpack:///./Editor/forms/index.js","webpack:///./App.js","webpack:///./index.js","webpack:///./requests.js"],"names":["__webpack_require__","d","__webpack_exports__","TOKEN","url","GITHUB_CLIENT_ID","GITHUB_CLIENT_SECRET","model","pages","user","id","username","state","isLoading","profile","tabsShowing","modalShowing","route","group","name","event","showTabs","showModal","errors","checkAuth","console","warn","not","isEmpty","Hamburger","_ref","attrs","render","dom","m","xmlns","oncreate","_ref2","onupdate","_ref3","view","_ref4","style","fill","onclick","animateSidebarEntrance","opacity","classList","toggle","animateChildrenLimitsEntrance","idx","setTimeout","animate","dir","_ref5","makeRoute","compose","join","split","trim","toLower","Btn","_ref$attrs","label","set","actionsAt","groups","concat","landing","home","events","newGroup","newEvent","Actions","Header","Footer","Tab","key","tab","href","link","Sidebar","tabs","map","active","Modal","onbeforeremove","_ref6","Promise","remove","add","children","Body","Layout","validateData","email","password","or","isNil","onE","pluck","logUserIn","data","loginReq","fork","_ref2$signinUser$user","signinUser","userLoggedIn","Login","onsubmit","e","preventDefault","for","type","onchange","target","value","class","Group","oninit","_ref2$attrs","getGroup","oninitError","oninitSuccess","members","length","Groups","findAllGroups","getGroups","onInitError","allGroups","onInitSuccess","rsvps","Invite","getInvite","err","log","onLoadE","_ref$Invitation","Invitation","response","partySize","_ref$Invitation$event","title","date","hostedBy","invite","format","eventId","onLoadS","_ref3$attrs","rsvp","updateInviteWithResponse","updateInviteResponse","Invites","invites","findGroupInvites","error","onLoadError","allInvitations","onLoadSuccess","onError","saveForm","createGroup","onSaveGroupSuccess","createEvent","chain","joinEvent","onSaveEventSuccess","getForm","description","location","Editor","page","form","userId","getGroupData","Landing","webAuth","auth0","WebAuth","domain","clientID","responseType","scope","redirectUri","authorize","LandingPage","GroupsPage","EventsPage","EditorPage","_ref7","_ref7$attrs","root","document","body","getProfile","w","winW","window","innerWidth","navigator","addEventListener","serviceWorker","register","then","registration","catch","registrationError","checkWidth","lastProfile","redraw","requestAnimationFrame","/:username/groups","onmatch","args","path","/:username/new-group","/:username/edit/:group","/:username/:group/events","/:username/:group/new-event","/:username/:group/edit/:event","/logout","/home","registerReq","data_task__WEBPACK_IMPORTED_MODULE_0__","data_task__WEBPACK_IMPORTED_MODULE_0___default","n","bcryptjs__WEBPACK_IMPORTED_MODULE_1__","bcryptjs__WEBPACK_IMPORTED_MODULE_1___default","_secrets_js__WEBPACK_IMPORTED_MODULE_2__","BearerToken","parseResponse","reject","resolve","postQl","query","Task","rej","res","request","method","withCredentials","string","JSON","parse","stringify","headers","Authorization","salt","bcryptjs","genSaltSync","passwordHash","hash","_ref5$data"],"mappings":"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","file":"main-da8a386c67b1e2f6b7ca-chunk.js","sourcesContent":["export const TOKEN =\r\n  'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1NTUyODM4NTksIm5iZiI6MTU1NTI4Mzg1OSwiZXhwIjoxNTU1MzcwMjU5fQ.jwZa642QeexFDfAA2nUcZe5QXqTf6PtMSSAGY9Bw5Es'\r\n\r\nexport const url = 'https://us1.prisma.sh/boaz-blake-8951e1/shindigit/dev'\r\n\r\n// GITHUB\r\nexport const GITHUB_CLIENT_ID = 'dee0eca430c29232f457'\r\nexport const GITHUB_CLIENT_SECRET = 'b659022d58d1c4618afc81585a0d532db3e7d43a'\r\n\r\n//RESTDB\r\nexport const REST_CLIENT_ID = 'wly12TyM6CBy5rA90BfNTbh14dgN9KyZ'\r\nexport const REST_CLIENT_SECRET =\r\n  'ebaYxkz-HK10ebILuY1YjK2sb6Iy3GET7NPjKlz9G0vsd2D0z6SMlY7sylUgkb57'\r\n","const pages = ['login', 'logout', 'createEvent', '']\r\n\r\nconst state = {\r\n  isLoading: false,\r\n  profile: '',\r\n  tabsShowing: false,\r\n  modalShowing: false,\r\n  route: '',\r\n  group: { id: '', name: '' },\r\n  event: { id: '', name: '' },\r\n}\r\n\r\nconst user = { id: '', username: '' }\r\n\r\nconst errors = null\r\n\r\nconst showTabs = (model) => (model.state.tabsShowing = !model.state.tabsShowing)\r\nconst showModal = (model) =>\r\n  (model.state.modalShowing = !model.state.modalShowing)\r\n\r\nexport const model = {\r\n  pages,\r\n  user,\r\n  state,\r\n  showTabs,\r\n  showModal,\r\n  errors,\r\n}\r\n","import bcrypt from 'bcryptjs'\r\nimport { isEmpty, not } from 'ramda'\r\n\r\nconst secure = (str) => bcrypt.hash(str, 10)\r\n\r\nconst checkAuth = (model) => {\r\n  console.warn(\r\n    'checking Auth',\r\n    { id: model.user.id },\r\n    not(isEmpty(model.user.id))\r\n  )\r\n  return not(isEmpty(model.user.id))\r\n}\r\n\r\nexport { secure, checkAuth }\r\n","import m from 'mithril'\r\n\r\nconst Hamburger = ({ attrs: { model } }) => {\r\n  const state = {\r\n    close:\r\n      'M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z',\r\n    open: 'M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z',\r\n  }\r\n\r\n  const render = dom =>{\r\n    return m.render(\r\n      dom,\r\n      m('path', {\r\n        xmlns: 'http://www.w3.org/2000/svg',\r\n        d: model.state.tabsShowing ? state.close : state.open,\r\n      })\r\n    )}\r\n\r\n  return {\r\n    oncreate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    onupdate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    view: ({ attrs: { model } }) =>\r\n      m('svg.btn.hamburger', {\r\n        style:{fill: model.state.tabsShowing? 'white': 'inherit'},\r\n        onclick: () => model.showTabs(model),\r\n      }),\r\n  }\r\n}\r\n\r\nexport default Hamburger\r\n","export const animateComponentEntrance = idx => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  return setTimeout(() => {\r\n    dom.classList.toggle('stretchRight')\r\n    dom.style.opacity = 1\r\n  }, idx * 100 + 20)\r\n}\r\n\r\nexport const animateSidebarEntrance = ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  dom.classList.toggle('slideRight')\r\n  dom.style.opacity = 1\r\n}\r\n\r\nexport const animateChildrenEntrance = ({ dom }) => {\r\n  let children = [ ...dom.children ]\r\n\r\n  return children.map((child, idx) => {\r\n    child.style.opacity = 0\r\n    setTimeout(() => {\r\n      child.classList.toggle('slideRight')\r\n      child.style.opacity = 1\r\n    }, (idx + 1) * 10)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsEntrance = idx => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle('slideDown')\r\n    dom.style.opacity = 1\r\n  }, (idx + 1) * 200)\r\n}\r\n\r\nexport const animate = dir => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle(dir)\r\n    dom.style.opacity = 1\r\n  },  200)\r\n}\r\n\r\nexport const slideModalOut = ({ dom }) => {\r\n  return new Promise(() => {\r\n    dom.classList.remove('slideRight')\r\n    return setTimeout(()=> {\r\n      dom.classList.add('reverseAnimation', 'slideRight')\r\n    } , 200)\r\n  })\r\n}\r\n\r\n\r\nexport const animateChildrenLimitsExit = ({ dom }) =>\r\n  new Promise(() => {\r\n    [ ...dom.children ].reverse().map((child, idx) => {\r\n      return setTimeout(() => {\r\n        child.style.display = 'none'\r\n      }, idx * 100)\r\n    })\r\n  })\r\n\r\n","import { compose, join, split, trim, toLower } from 'ramda'\r\n\r\nexport const makeRoute = compose(\r\n  join('-'),\r\n  split(' '),\r\n  trim(),\r\n  toLower()\r\n)\r\n\r\n// function scrollToAnchor(anchorName) {\r\n//   let is = (el) => {\r\n//     return el !== undefined && el !== null\r\n//   }\r\n//   //if you pass an undefined anchor it will scroll to the top of the body\r\n//   let targetEl = is(anchor)\r\n//     ? document.querySelector('a[name=' + anchor + ']')\r\n//     : document.body\r\n//   let scrollTop = window.pageYOffset || document.documentElement.scrollTop\r\n//   let target = is(targetEl) ? targetEl.getBoundingClientRect().top : 0\r\n//   window.scroll({\r\n//     top: target + scrollTop - 70,\r\n//     left: 0,\r\n//     behavior: 'smooth',\r\n//   })\r\n// }\r\n\r\n// onclick: (e) => {\r\n//   let anchor = \"contact-me\";\r\n//   m.route.set(\"/home\", { \"a\": anchor });\r\n//   scrollToAnchor(anchor);\r\n// }\r\n// https://dev.to/weirdmayo/anchor-links-in-mithriljs-277l\r\n","import m from 'mithril'\r\nimport Hamburger from './Hamburger.js'\r\nimport { animate } from '../assets/index.js'\r\nimport { makeRoute } from '../utils/index.js'\r\n\r\nconst Btn = {\r\n  view: ({ attrs: { route, label } }) => [\r\n    m(\r\n      'button.Btn',\r\n      {\r\n        onclick: () => m.route.set(route),\r\n      },\r\n      label\r\n    ),\r\n  ],\r\n}\r\n\r\nconst actionsAt = {\r\n  groups: (model) => [\r\n    m(Btn, {\r\n      route: `/${model.user.username}/new-group`,\r\n      label: 'Add Group',\r\n    }),\r\n  ],\r\n  landing: () => ['LANDING PAGE'],\r\n  home: () => ['LANDING PAGE'],\r\n  events: (model) => [\r\n    m(Btn, {\r\n      route: `/${model.user.username}/groups`,\r\n      label: 'Back to Groups',\r\n    }),\r\n    m(Btn, {\r\n      route: `/${model.user.username}/${makeRoute(\r\n        model.state.group.name\r\n      )}/new-event`,\r\n      label: 'Add Event',\r\n    }),\r\n  ],\r\n  newGroup: (model) => [\r\n    m(Btn, {\r\n      route: `/${model.user.username}/groups`,\r\n      label: 'Back to Groups',\r\n    }),\r\n  ],\r\n  newEvent: (model) => [\r\n    m(Btn, {\r\n      route: `/${model.user.username}/groups${makeRoute(\r\n        model.state.group.name\r\n      )}`,\r\n      label: 'Back to Group',\r\n    }),\r\n  ],\r\n}\r\n\r\nconst Actions = {\r\n  view: ({ attrs: { model } }) =>\r\n    m('.actions', actionsAt[model.state.route](model)),\r\n}\r\n\r\nconst Header = {\r\n  oncreate: animate('slideDown'),\r\n  view: ({ attrs: { model } }) =>\r\n    m(\r\n      'header.header',\r\n      {\r\n        id: 'header',\r\n      },\r\n      [m(Hamburger, { model }), m(Actions, { model })]\r\n    ),\r\n}\r\n\r\nexport default Header\r\n","import m from 'mithril'\r\nimport { animate, animateChildrenLimitsEntrance } from '../assets/index.js'\r\n\r\n\r\nconst Footer = {\r\n  oncreate: animate('slideUp'),\r\n  view: () => m('footer.footer', {\r\n    oncreate:animateChildrenLimitsEntrance, id: 'footer',\r\n  },\r\n  'by Boaz Blake',\r\n  ),\r\n}\r\n\r\nexport default Footer\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance } from '../assets/index.js'\r\n\r\nconst Tab = ({ attrs: { key } }) => {\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { tab } }) =>\r\n      m(\r\n        'a.tab',\r\n        {\r\n          key,\r\n          id: `${tab}`,\r\n          href: `${tab}`,\r\n          oncreate: m.route.link,\r\n        },\r\n        tab\r\n      ),\r\n  }\r\n}\r\n\r\nconst Sidebar = ({ attrs: { model } }) => {\r\n  let tabs = model.pages\r\n\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { model } }) =>\r\n      m(\r\n        'aside.sidebar slide-left',\r\n        {\r\n          id: 'sidebar',\r\n        },\r\n        tabs.map((tab, idx) =>\r\n          m(Tab, {\r\n            key: idx,\r\n            active: model.state.route == tab,\r\n            tab,\r\n          })\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Sidebar\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance,slideModalOut } from '../assets/index.js'\r\n\r\nconst Modal = {\r\n  oncreate: animateSidebarEntrance,\r\n  onbeforeremove:slideModalOut,\r\n  view: ({ children }) => m('.navigationModal', children),\r\n}\r\n\r\nexport default Modal\r\n","import m from 'mithril'\r\n\r\nconst Body = {\r\n  view: ({attrs:{ children }}) => m('section.content', { id: 'content' }, children),\r\n}\r\n\r\nexport default Body\r\n","import m from 'mithril'\r\nimport Header from './Header.js'\r\nimport Footer from './Footer.js'\r\nimport Sidebar from './NavBar.js'\r\nimport Modal from './Modal.js'\r\nimport Body from './Body.js'\r\n\r\nconst Layout = ({ attrs: { model } }) => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\r\n        'section.layout',\r\n        {\r\n          id: 'layout',\r\n        },\r\n        children\r\n          ? [\r\n            m(Header, { model }),\r\n            model.state.profile == 'phone'\r\n              ? model.state.tabsShowing\r\n                ? m(Modal, m(Sidebar, { model }))\r\n                : null\r\n              : m(Sidebar, { model }),\r\n            m(Body, { model, children }),\r\n            m(Footer, { model }),\r\n          ]\r\n          : []\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","import m from 'mithril'\r\nimport { loginReq, registerReq } from '../requests.js'\r\nimport { pluck, or, isNil, not } from 'ramda'\r\n\r\nconst validateData = ({ email, password }) =>\r\n  not(or(isNil(email), isNil(password)))\r\n\r\nconst userLoggedIn = (model) => ({\r\n  signinUser: {\r\n    user: { id, username },\r\n  },\r\n}) => {\r\n  model.user.id = id\r\n  model.user.username = username\r\n  model.errors = null\r\n  m.route.set(`/${model.user.username}/groups/`)\r\n}\r\n\r\nconst userRegistered = (model) => ({ createUser: { id, username } }) => {\r\n  model.user.id = id\r\n  model.user.username = username\r\n  model.errors = null\r\n  m.route.set(`/${model.user.username}/groups/`)\r\n}\r\n\r\nconst onE = (model) => (errors) => (model.errors = pluck('message', errors))\r\n\r\nconst logUserIn = (model) => (data) =>\r\n  loginReq(model)(data).fork(onE(model), userLoggedIn(model))\r\n\r\nconst registerUser = (model) => (data) =>\r\n  registerReq(model)(data).fork(onE(model), userRegistered(model))\r\n\r\nconst Login = {\r\n  view: ({ attrs: { model }, state }) =>\r\n    m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          model.errors = null\r\n          e.preventDefault()\r\n          validateData(state) ? logUserIn(model)(state) : ''\r\n        },\r\n      },\r\n      [\r\n        m('fieldset.fieldset', [\r\n          m('legend', 'Login'),\r\n          m(\r\n            'button.card-btn',\r\n            {\r\n              id: 'btn-login',\r\n            },\r\n            'LOGIN'\r\n          ),\r\n          m('.fields', [\r\n            m('label', { for: 'email' }, 'email'),\r\n            m('input', {\r\n              type: 'email',\r\n              id: 'email',\r\n              name: 'login',\r\n              onchange: (e) => (state.email = e.target.value),\r\n            }),\r\n            m('label', { for: 'password' }, 'Password'),\r\n            m('input', {\r\n              type: 'password',\r\n              id: 'password',\r\n              name: 'login',\r\n              onchange: (e) => (state.password = e.target.value),\r\n            }),\r\n          ]),\r\n          m(\r\n            'button[type=submit]',\r\n            {\r\n              class: model.state.isLoading ? 'submitting' : 'submit',\r\n            },\r\n            model.state.isLoading ? 'Submitting' : 'Submit'\r\n          ),\r\n          model.errors ? m('p.error', model.errors[0]) : '',\r\n        ]),\r\n        m(\r\n          'a',\r\n          {\r\n            oncreate: m.route.link,\r\n            href: '/register',\r\n          },\r\n          'register'\r\n        ),\r\n      ]\r\n    ),\r\n}\r\n\r\nconst Register = {\r\n  view: ({ attrs: { model }, state }) =>\r\n    m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          model.errors = null\r\n          e.preventDefault()\r\n          validateData(state) ? registerUser(model)(state) : ''\r\n        },\r\n      },\r\n      [\r\n        m('fieldset.fieldset', [\r\n          m('legend', 'register'),\r\n          m('.fields', [\r\n            m('label', { for: 'email' }, 'email'),\r\n            m('input', {\r\n              type: 'email',\r\n              id: 'email',\r\n              name: 'register',\r\n              onchange: (e) => (state.email = e.target.value),\r\n            }),\r\n            m('label', { for: 'username' }, 'username'),\r\n            m('input', {\r\n              type: 'text',\r\n              id: 'username',\r\n              name: 'register',\r\n              onchange: (e) => (state.username = e.target.value),\r\n            }),\r\n            m('label', { for: 'password' }, 'Password'),\r\n            m('input', {\r\n              type: 'password',\r\n              id: 'password',\r\n              name: 'register',\r\n              onchange: (e) => (state.password = e.target.value),\r\n            }),\r\n          ]),\r\n          m(\r\n            'button[type=submit]',\r\n            { class: model.state.isLoading ? 'submitting' : 'submit' },\r\n            model.state.isLoading ? 'Submitting' : 'Submit'\r\n          ),\r\n          model.errors ? m('p.error', model.errors[0]) : '',\r\n        ]),\r\n        m(\r\n          'a',\r\n          {\r\n            oncreate: m.route.link,\r\n            href: '/login',\r\n          },\r\n          'login'\r\n        ),\r\n      ]\r\n    ),\r\n}\r\n\r\nexport { Login, Register }\r\n","import m from 'mithril'\r\n\r\nimport { getGroup } from '../../requests.js'\r\nimport { makeRoute } from '../../utils/index.js'\r\n\r\nconst oninitError = (state) => (errors) => (state.errors = errors)\r\n\r\nconst oninitSuccess = (model) => (state) => ({ Group }) => {\r\n  state.group = Group\r\n  model.state.group = Group\r\n  return state\r\n}\r\n\r\nexport const Group = {\r\n  oninit: ({ attrs: { model, key }, state }) => {\r\n    state.group = {}\r\n    getGroup(model)(key).fork(oninitError(state), oninitSuccess(model)(state))\r\n  },\r\n  view: ({ attrs: { model }, state }) => {\r\n    if (state.group.id) {\r\n      return m(\r\n        '.group',\r\n        {\r\n          onclick: () => {\r\n            return m.route.set(\r\n              `/${model.user.username}/${makeRoute(state.group.name)}/events`\r\n            )\r\n          },\r\n        },\r\n        [\r\n          m('p.title', state.group.name),\r\n          m('p.groupSize', state.group.members.length),\r\n        ]\r\n      )\r\n    }\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\nimport { Group } from './Group/component.js'\r\n\r\nimport { findAllGroups } from '../requests.js'\r\n\r\nconst getGroups = (model) => findAllGroups(model)\r\n\r\nconst onInitError = (state) => (errors) => (state.errors = errors)\r\nconst onInitSuccess = (state) => ({ allGroups }) => (state.groups = allGroups)\r\n\r\nexport const Groups = {\r\n  oninit: ({ attrs: { model }, state }) => {\r\n    state.groups = []\r\n    return getGroups(model).fork(onInitError(state), onInitSuccess(state))\r\n  },\r\n  view: ({ attrs: { model }, state }) =>\r\n    m(\r\n      '.groups',\r\n      state.groups.map(({ id }) => m(Group, { model, key: id }, `id: ${id}`))\r\n    ),\r\n}\r\n","import m from 'mithril'\r\nimport { getInvite, updateInviteWithResponse } from '../../requests.js'\r\nimport { format } from 'date-fns'\r\n\r\nconst updateInviteResponse = (model) => (key) => (rsvp) =>\r\n  updateInviteWithResponse(model)(key)(rsvp)\r\n\r\nconst rsvps = ['Yes', 'No', 'Maybe']\r\n\r\nconst onLoadS = (state) => ({\r\n  Invitation: {\r\n    response,\r\n    partySize,\r\n    event: {\r\n      id,\r\n      title,\r\n      date,\r\n      hostedBy: { email },\r\n    },\r\n  },\r\n}) => {\r\n  state.invite = {\r\n    response,\r\n    partySize,\r\n    title,\r\n    date: format(date, 'MM-DD-YYYY'),\r\n    email,\r\n    eventId: id,\r\n  }\r\n  return state\r\n}\r\n\r\nconst onLoadE = (state) => (err) => {\r\n  state.err = err\r\n  console.log('fail', state)\r\n}\r\n\r\nexport const Invite = {\r\n  oninit: ({ attrs: { key, model }, state }) =>\r\n    getInvite(model)(key).fork(onLoadE(state), onLoadS(state)),\r\n  view: ({ attrs: { key, model }, state }) => {\r\n    return state.invite\r\n      ? m('.invite', [\r\n        m('p.title', state.invite.title),\r\n        m('p.email', state.invite.email),\r\n        m('p.date', state.invite.date),\r\n        m(\r\n          '.rsvps',\r\n          rsvps.map((rsvp) =>\r\n            m(\r\n              `button.button${\r\n                state.invite.response == rsvp ? '.isSelected' : ''\r\n              }`,\r\n              {\r\n                onclick: () => {\r\n                  state.invite.response = rsvp\r\n                  updateInviteResponse(model)(key)(rsvp)\r\n                },\r\n              },\r\n              rsvp\r\n            )\r\n          )\r\n        ),\r\n        m('p.partySize', state.invite.partySize),\r\n      ])\r\n      : ''\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\nimport { findGroupInvites } from '../requests.js'\r\n\r\nimport { Invite } from './Invite/component.js'\r\n\r\nconst onLoadSuccess = (state) => ({ allInvitations }) =>\r\n  (state.invites = allInvitations)\r\n\r\nconst onLoadError = (state) => (err) => {\r\n  state.error = err\r\n  console.log('fail', state)\r\n}\r\n\r\nexport const Invites = {\r\n  oninit: ({ attrs: { model }, state }) => {\r\n    state.invites = []\r\n    state.errors = {}\r\n    findGroupInvites(model).fork(onLoadError(state), onLoadSuccess(state))\r\n  },\r\n  view: ({ attrs: { model }, state }) => {\r\n    console.log('state', state)\r\n    return m(\r\n      '.attendaces',\r\n      state.invites.map(({ id }) => m(Invite, { model, key: id }, `id: ${id}`))\r\n    )\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\nimport { groupForm, eventForm } from './forms/index.js'\r\nimport {\r\n  getGroup,\r\n  createGroup,\r\n  createEvent,\r\n  editGroup,\r\n  editEvent,\r\n  joinEvent,\r\n} from '../requests.js'\r\nimport { makeRoute } from '../utils/index.js'\r\n\r\nconst getGroupData = (model) => (id) => getGroup(model)(id)\r\nconst onInitSuccess = (state) => (data) => (state.data = data)\r\n\r\nconst onError = (state) => (error) => {\r\n  state.error = error\r\n  console.error('error', state)\r\n}\r\n\r\nconst validateData = (data) => {\r\n  // console.log('valiudate data', data)\r\n  return data\r\n}\r\n\r\nconst onSaveGroupSuccess = (model) => (data) => {\r\n  console.log('saved', model, data)\r\n  m.route.set(`/${model.user.username}/groups`)\r\n}\r\n\r\nconst onSaveEventSuccess = (model) => (data) => {\r\n  console.log(\r\n    'saved',\r\n    model,\r\n    data,\r\n    'route',\r\n    `/${model.user.username}/${makeRoute(model.state.group.name)}/events`\r\n  )\r\n\r\n  m.route.set(\r\n    `/${model.user.username}/${makeRoute(model.state.group.name)}/events`\r\n  )\r\n}\r\n\r\nconst saveForm = (model) => (state) => {\r\n  console.log('save form', model.state, model.user, state)\r\n  if (model.state.route == 'newGroup') {\r\n    return createGroup(model)(state).fork(\r\n      onError(state),\r\n      onSaveGroupSuccess(model)\r\n    )\r\n  }\r\n  if (model.state.route == 'newEvent') {\r\n    return createEvent(model)(state)\r\n      .chain(joinEvent(model))\r\n      .fork(onError(state), onSaveEventSuccess(model))\r\n  }\r\n  if (model.state.route == 'editGroup') {\r\n    // return editGroup(model)(state).fork(onError(state), onSaveSuccess(model))\r\n  }\r\n  if (model.state.route == 'editEvent') {\r\n    // return editEvent(model)(state).fork(onError(state), onSaveSuccess(model))\r\n  }\r\n  return state\r\n}\r\n\r\nconst getForm = {\r\n  group: groupForm,\r\n  event: eventForm,\r\n}\r\n\r\nexport const Editor = {\r\n  oninit: ({ attrs: { model, page, id }, state }) => {\r\n    state.form = getForm[page]\r\n    state.data = {}\r\n    state.userId = model.user.id\r\n    if (id) {\r\n      getGroupData(model)(id).fork(onError(state), onInitSuccess(state))\r\n    }\r\n    return state\r\n  },\r\n  view: ({ attrs: { model }, state }) => {\r\n    // console.log('Editor', state, model)\r\n    return m(\r\n      'form.form',\r\n      {\r\n        onsubmit: (e) => {\r\n          model.errors = null\r\n          e.preventDefault()\r\n          validateData(state.data) ? saveForm(model)(state) : ''\r\n        },\r\n      },\r\n      state.form(state),\r\n      m(\r\n        'button[type=submit]',\r\n        {\r\n          class: model.state.isLoading ? 'submitting' : 'submit',\r\n        },\r\n        model.state.isLoading ? 'Submitting' : 'Submit'\r\n      )\r\n    )\r\n  },\r\n}\r\n","import m from 'mithril'\r\n\r\nimport { format } from 'date-fns'\r\n\r\nexport const groupForm = (state) => [\r\n  m('fieldset.fieldset', [\r\n    m('legend', 'Create Group'),\r\n    m('.fields', [\r\n      m('label', { for: 'name' }, 'name'),\r\n      m('input', {\r\n        type: 'text',\r\n        id: 'name',\r\n        name: 'name',\r\n        onchange: (e) => {\r\n          state.data.name = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    state.errors ? m('p.error', state.errors[0]) : '',\r\n  ]),\r\n]\r\n\r\nexport const eventForm = (state) => [\r\n  m('fieldset.fieldset', [\r\n    m('legend', 'Create Event'),\r\n    m('.fields', [\r\n      m('label', { for: 'title' }, 'title'),\r\n      m('input', {\r\n        type: 'text',\r\n        id: 'title',\r\n        name: 'title',\r\n        onchange: (e) => {\r\n          state.data.title = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'description' }, 'description'),\r\n      m('input', {\r\n        type: 'textarea',\r\n        id: 'description',\r\n        name: 'description',\r\n        onchange: (e) => {\r\n          state.data.description = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'location' }, 'location'),\r\n      m('input', {\r\n        type: 'textarea',\r\n        id: 'location',\r\n        name: 'location',\r\n        onchange: (e) => {\r\n          state.data.location = e.target.value\r\n        },\r\n      }),\r\n    ]),\r\n    m('.fields', [\r\n      m('label', { for: 'date' }, 'date'),\r\n      m('input', {\r\n        type: 'date',\r\n        id: 'date',\r\n        name: 'date',\r\n        onchange: (e) => {\r\n          state.data.date = format(e.target.value, 'GG')\r\n        },\r\n      }),\r\n    ]),\r\n    state.errors ? m('p.error', state.errors[0]) : '',\r\n  ]),\r\n]\r\n","import m from 'mithril'\r\n\r\nimport Layout from './components/Layout.js'\r\nimport { Login, Register } from './Login/component'\r\nimport { Groups } from './Groups/component'\r\nimport { Invites } from './Invites/component'\r\nimport { Editor } from './Editor/component'\r\nimport auth0 from 'auth0-js'\r\n\r\nimport Task from 'data.task'\r\nimport { checkAuth } from './auth.js'\r\n\r\nconst authenticateUSer = (model) => {\r\n  var webAuth = new auth0.WebAuth({\r\n    domain: 'boazblake.auth0.com',\r\n    clientID: 'wly12TyM6CBy5rA90BfNTbh14dgN9KyZ',\r\n    responseType: 'token id_token',\r\n    scope: 'openid',\r\n    redirectUri: 'http://localhost:3000/#!/landing',\r\n  })\r\n\r\n  console.log(webAuth)\r\n  webAuth.authorize()\r\n}\r\n\r\nconst Landing = {\r\n  view: ({ attrs: { model } }) =>\r\n    m(\r\n      '.container',\r\n      m(\r\n        'button.card-btn',\r\n        {\r\n          onclick: () => authenticateUSer(model), //.fork(onAuthError(model), onAuthSuccess(model)),\r\n        },\r\n        'LOG IN WITH GITHUB'\r\n      )\r\n    ),\r\n}\r\n\r\nconst LandingPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Landing, { model })),\r\n}\r\n\r\nconst LoginPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Login, { model })),\r\n}\r\n\r\nconst RegisterPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Register, { model })),\r\n}\r\n\r\nconst GroupsPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Groups, { model })),\r\n}\r\n\r\nconst EventsPage = {\r\n  view: ({ attrs: { model } }) => m('.component', m(Invites, { model })),\r\n}\r\n\r\nconst EditorPage = {\r\n  view: ({ attrs: { model, page, id } }) =>\r\n    m('.component', m(Editor, { model, page, id })),\r\n}\r\n\r\nexport const App = (model) => ({\r\n  '/:username/groups': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route = 'groups'\r\n      checkAuth(model)\r\n    },\r\n    render: () => m(Layout, { model }, m(GroupsPage, { model })),\r\n  },\r\n  '/:username/new-group': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route = 'Event'\r\n      checkAuth(model)\r\n    },\r\n    render: () =>\r\n      m(Layout, { model }, m(EditorPage, { model, page: 'group', id: null })),\r\n  },\r\n  '/:username/edit/:group': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route = 'editGroup'\r\n      checkAuth(model)\r\n    },\r\n    render: () =>\r\n      m(\r\n        Layout,\r\n        { model },\r\n        m(EditorPage, { model, page: 'group', id: 'groupId' })\r\n      ),\r\n  },\r\n  '/:username/:group/events': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route = 'events'\r\n      checkAuth(model)\r\n    },\r\n    render: () => m(Layout, { model }, m(EventsPage, { model })),\r\n  },\r\n  '/:username/:group/new-event': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route = 'newEvent'\r\n      checkAuth(model)\r\n    },\r\n    render: () =>\r\n      m(Layout, { model }, m(EditorPage, { model, page: 'event', id: null })),\r\n  },\r\n  '/:username/:group/edit/:event': {\r\n    onmatch: (args, path) => {\r\n      console.log('args, path', args, path)\r\n      model.state.route = 'editEvent'\r\n      checkAuth(model)\r\n    },\r\n    render: () =>\r\n      m(\r\n        Layout,\r\n        { model },\r\n        m(EditorPage, { model, page: 'event', id: 'eventID' })\r\n      ),\r\n  },\r\n  '/logout': {\r\n    onmatch: () => {\r\n      model.user = {}\r\n      checkAuth(model)\r\n    },\r\n    render: () => m(Layout, { model }, m(Login, { model })),\r\n  },\r\n  '/home': {\r\n    onmatch: (args, path) => {\r\n      model.state.route = 'home'\r\n      return console.log('landed home', args, path)\r\n    },\r\n    render: () => m(Layout, { model }, m(LandingPage, { model })),\r\n  },\r\n})\r\n\r\nexport const UnAuthenticated = (model) => ({\r\n  '/landing': {\r\n    onmatch: () => {\r\n      model.state.route = 'landing'\r\n    },\r\n    render: () => m(Layout, { model }, m(LandingPage, { model })),\r\n  },\r\n})\r\n","import m from 'mithril'\r\nconst root = document.body\r\nimport { model } from './Model.js'\r\nimport { checkAuth } from './auth.js'\r\nimport { App, UnAuthenticated } from './App.js'\r\n\r\nif (module.hot) {\r\n  module.hot.accept()\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!')\r\n}\r\n\r\n// Styles\r\nimport './index.css'\r\nimport './assets/animations.css'\r\nimport './assets/loader.css'\r\n\r\nfunction getProfile(w) {\r\n  if (w < 668) return 'phone'\r\n  if (w < 920) return 'tablet'\r\n  return 'desktop'\r\n}\r\n\r\nlet winW = window.innerWidth\r\nmodel.state.profile = getProfile(winW)\r\n\r\nfunction checkWidth() {\r\n  const w = window.innerWidth\r\n  if (winW !== w) {\r\n    winW = w\r\n    var lastProfile = model.state.profile\r\n    model.state.profile = getProfile(w)\r\n    if (lastProfile != model.state.profile) m.redraw()\r\n  }\r\n  requestAnimationFrame(checkWidth)\r\n}\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker\r\n      .register('./service-worker.js')\r\n      .then((registration) => {\r\n        console.log('ðŸ§Ÿ SW registered: ', registration)\r\n      })\r\n      .catch((registrationError) => {\r\n        console.log('âš™ï¸ SW registration failed: ', registrationError)\r\n      })\r\n  })\r\n}\r\n\r\ncheckWidth()\r\n\r\n// if (checkAuth(model)) {\r\nm.route(root, '/home', App(model))\r\n// } else {\r\n// m.route(root, '/landing', UnAuthenticated(model))\r\n// }\r\n","import Task from 'data.task'\r\nimport bcryptjs from 'bcryptjs'\r\nimport {\r\n  TOKEN,\r\n  url,\r\n  GITHUB_CLIENT_ID,\r\n  GITHUB_CLIENT_SECRET,\r\n} from './secrets.js'\r\n\r\nconst BearerToken = `Bearer ${TOKEN}`\r\n\r\nconst makeQuery = (string) => JSON.parse(JSON.stringify(string))\r\n\r\nconst parseResponse = (model) => ({ data, errors }) => {\r\n  model.state.isLoading = false\r\n  return errors ? Promise.reject(errors) : Promise.resolve(data)\r\n}\r\n\r\nexport const postQl = (model) => (query) => {\r\n  model.state.isLoading = true\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'POST',\r\n        url: url,\r\n        withCredentials: false,\r\n        data: makeQuery(query),\r\n        headers: {\r\n          Authorization: BearerToken,\r\n        },\r\n      })\r\n      .then(parseResponse(model))\r\n      .then(res, rej)\r\n  )\r\n}\r\n\r\nexport const getGitHubToken = (model) => (str) => {\r\n  model.state.isLoading = true\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: 'POST',\r\n        url: url,\r\n        withCredentials: false,\r\n        data: JSON.stringify({\r\n          client_id: GITHUB_CLIENT_ID,\r\n          client_secret: GITHUB_CLIENT_SECRET,\r\n          code: str,\r\n        }),\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Accept: 'application/json',\r\n        },\r\n      })\r\n      .then(parseResponse(model))\r\n      .then(res, rej)\r\n  )\r\n}\r\n\r\nexport const loginReq = (model) => ({ email, password }) => {\r\n  let query = `\r\n  mutation{signinUser(email:{email:${JSON.stringify(\r\n    email\r\n  )},password:${JSON.stringify(password)}}){user{id,username}}}\r\n  `\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\nexport const registerReq = (model) => ({ email, password, username }) => {\r\n  let salt = bcryptjs.genSaltSync(10)\r\n  let passwordHash = bcryptjs.hash(password, salt)\r\n\r\n  let query = `mutation CreateUserMutation($email:String!,$passwordHash:String!) {\r\n  createUser(email:${JSON.stringify(email)},password:${JSON.stringify(\r\n  passwordHash\r\n)},username:${JSON.stringify(username)}){id,username}}`\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\nexport const findAllGroups = (model) => {\r\n  let query = `query{allGroups(filter:{members_every:{id:${JSON.stringify(\r\n    model.user.id\r\n  )}}}){id}}`\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\nexport const findAllInvites = (model) => {\r\n  let query = `query{allInvitations(filter:{user:{id:${JSON.stringify(\r\n    model.user.id\r\n  )}}}){id}}`\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\nexport const findGroupInvites = (model) => {\r\n  let query = `query{allInvitations(filter:{groups_some:{id:${JSON.stringify(\r\n    model.state.group.id\r\n  )}}}){id}}`\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\nexport const getGroup = (model) => (id) => {\r\n  let query = `query{Group(id:${JSON.stringify(id)}){id, name, members {id}}}`\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\nexport const createGroup = (model) => ({ data: { name } }) => {\r\n  let query = `mutation{createGroup(name:${JSON.stringify(\r\n    name\r\n  )}, membersIds:[${JSON.stringify(model.user.id)}]){id, name, members{id}}}`\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\nexport const createEvent = (model) => ({\r\n  data: { title, description, location, date },\r\n}) => {\r\n  let query = `mutation{createEvent(hostedById:${JSON.stringify(\r\n    model.user.id\r\n  )},title:${JSON.stringify(title)},description:${JSON.stringify(\r\n    description\r\n  )},location:${JSON.stringify(location)},date:${JSON.stringify(date)}){id}}`\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\nexport const joinEvent = (model) => ({ createEvent: { id } }) => {\r\n  let query = `mutation{createInvitation(userId:${JSON.stringify(\r\n    model.user.id\r\n  )},eventId:${JSON.stringify(id)},partySize:1,response:Yes){id}}`\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\nexport const getInvite = (model) => (id) => {\r\n  let query = `query{Invitation(id:${JSON.stringify(\r\n    id\r\n  )}){id,partySize,response,event{id, date, title, hostedBy{email} invites{partySize, response}}}}`\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\nexport const updateInviteWithResponse = (model) => (key) => (rsvp) => {\r\n  let query = `mutation{updateInvitation(id:${JSON.stringify(\r\n    key\r\n  )},response:${rsvp}){id,partySize,response,event{id,date,title,hostedBy{email}, invites{partySize, response}}}}`\r\n\r\n  return postQl(model)({ query })\r\n}\r\n\r\n// Create Event\r\n//  mutation {\r\n//      createEvent(\r\n//          \thostedById: \"cjue72u6q007t01390uzladz5\",\r\n//            date: \"2015-11-22T13:57:31.123Z\",\r\n//          \tlocation: \"at my home\",\r\n//       \t\t  title: \"boazs ebent\"\r\n//        \t\tdescription: \"this is the best event in the world\"\r\n//     ) {\r\n//          id\r\n//   }\r\n// }\r\n\r\n//create Invite\r\n// mutation {\r\n// createInvitation(\r\n//   userId: \"cjue72u6q007t01390uzladz5\",\r\n//   eventId: \"cjueplkft04hn0101usyxubaz\",\r\n//   partySize: 1,\r\n//   response: Yes){\r\n//   id\r\n// }\r\n// }\r\n\r\n// All  events\r\n// query {\r\n//   allEvents(filter: {\r\n//     hostedBy: {\r\n//       id: \"cjue72u6q007t01390uzladz5\"\r\n//     }\r\n//   }\r\n//   ){\r\n//     id\r\n//   }\r\n// allInvitations(filter: {\r\n//   user: {\r\n//     id: \"cjue72u6q007t01390uzladz5\"\r\n//   }\r\n// }){\r\n//   id\r\n// }\r\n// }\r\n"],"sourceRoot":""}